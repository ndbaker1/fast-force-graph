import{S as bi,i as ki,s as Ai,e as Cn,b as Er,H as Mn,h as Dt,k as ge,q as Sn,a as zn,l as pe,m as ye,r as En,c as Pn,G as Pt,J as Tn,K as On,L as Ci}from"../chunks/index.bc414eb3.js";var Ze="http://www.w3.org/1999/xhtml";const Nn={svg:"http://www.w3.org/2000/svg",xhtml:Ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function De(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Nn.hasOwnProperty(n)?{space:Nn[n],local:e}:e}function Mi(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Ze&&n.documentElement.namespaceURI===Ze?n.createElement(e):n.createElementNS(r,e)}}function Si(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pr(e){var n=De(e);return(n.local?Si:Mi)(n)}function zi(){}function dn(e){return e==null?zi:function(){return this.querySelector(e)}}function Ei(e){typeof e!="function"&&(e=dn(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=new Array(s),f,l,c=0;c<s;++c)(f=o[c])&&(l=e.call(f,f.__data__,c,o))&&("__data__"in f&&(l.__data__=f.__data__),u[c]=l);return new et(i,this._parents)}function Pi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ti(){return[]}function Tr(e){return e==null?Ti:function(){return this.querySelectorAll(e)}}function Oi(e){return function(){return Pi(e.apply(this,arguments))}}function Ni(e){typeof e=="function"?e=Oi(e):e=Tr(e);for(var n=this._groups,r=n.length,i=[],a=[],o=0;o<r;++o)for(var s=n[o],u=s.length,f,l=0;l<u;++l)(f=s[l])&&(i.push(e.call(f,f.__data__,l,s)),a.push(f));return new et(i,a)}function Or(e){return function(){return this.matches(e)}}function Nr(e){return function(n){return n.matches(e)}}var Ri=Array.prototype.find;function Ii(e){return function(){return Ri.call(this.children,e)}}function $i(){return this.firstElementChild}function Di(e){return this.select(e==null?$i:Ii(typeof e=="function"?e:Nr(e)))}var Fi=Array.prototype.filter;function Li(){return Array.from(this.children)}function Ui(e){return function(){return Fi.call(this.children,e)}}function ji(e){return this.selectAll(e==null?Li:Ui(typeof e=="function"?e:Nr(e)))}function qi(e){typeof e!="function"&&(e=Or(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=[],f,l=0;l<s;++l)(f=o[l])&&e.call(f,f.__data__,l,o)&&u.push(f);return new et(i,this._parents)}function Rr(e){return new Array(e.length)}function Hi(){return new et(this._enter||this._groups.map(Rr),this._parents)}function ze(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}ze.prototype={constructor:ze,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vi(e){return function(){return e}}function Gi(e,n,r,i,a,o){for(var s=0,u,f=n.length,l=o.length;s<l;++s)(u=n[s])?(u.__data__=o[s],i[s]=u):r[s]=new ze(e,o[s]);for(;s<f;++s)(u=n[s])&&(a[s]=u)}function Bi(e,n,r,i,a,o,s){var u,f,l=new Map,c=n.length,h=o.length,d=new Array(c),g;for(u=0;u<c;++u)(f=n[u])&&(d[u]=g=s.call(f,f.__data__,u,n)+"",l.has(g)?a[u]=f:l.set(g,f));for(u=0;u<h;++u)g=s.call(e,o[u],u,o)+"",(f=l.get(g))?(i[u]=f,f.__data__=o[u],l.delete(g)):r[u]=new ze(e,o[u]);for(u=0;u<c;++u)(f=n[u])&&l.get(d[u])===f&&(a[u]=f)}function Xi(e){return e.__data__}function Wi(e,n){if(!arguments.length)return Array.from(this,Xi);var r=n?Bi:Gi,i=this._parents,a=this._groups;typeof e!="function"&&(e=Vi(e));for(var o=a.length,s=new Array(o),u=new Array(o),f=new Array(o),l=0;l<o;++l){var c=i[l],h=a[l],d=h.length,g=Ki(e.call(c,c&&c.__data__,l,i)),y=g.length,m=u[l]=new Array(y),x=s[l]=new Array(y),p=f[l]=new Array(d);r(c,h,m,x,p,g,n);for(var C=0,A=0,_,v;C<y;++C)if(_=m[C]){for(C>=A&&(A=C+1);!(v=x[A])&&++A<y;);_._next=v||null}}return s=new et(s,i),s._enter=u,s._exit=f,s}function Ki(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yi(){return new et(this._exit||this._groups.map(Rr),this._parents)}function Zi(e,n,r){var i=this.enter(),a=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(a=n(a),a&&(a=a.selection())),r==null?o.remove():r(o),i&&a?i.merge(a).order():a}function Qi(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,a=r.length,o=i.length,s=Math.min(a,o),u=new Array(a),f=0;f<s;++f)for(var l=r[f],c=i[f],h=l.length,d=u[f]=new Array(h),g,y=0;y<h;++y)(g=l[y]||c[y])&&(d[y]=g);for(;f<a;++f)u[f]=r[f];return new et(u,this._parents)}function Ji(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],a=i.length-1,o=i[a],s;--a>=0;)(s=i[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ta(e){e||(e=ea);function n(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o){for(var s=r[o],u=s.length,f=a[o]=new Array(u),l,c=0;c<u;++c)(l=s[c])&&(f[c]=l);f.sort(n)}return new et(a,this._parents).order()}function ea(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function na(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ra(){return Array.from(this)}function ia(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){var s=i[a];if(s)return s}return null}function aa(){let e=0;for(const n of this)++e;return e}function oa(){return!this.node()}function sa(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var a=n[r],o=0,s=a.length,u;o<s;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function ua(e){return function(){this.removeAttribute(e)}}function fa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function la(e,n){return function(){this.setAttribute(e,n)}}function ca(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function ha(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function da(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ga(e,n){var r=De(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?fa:ua:typeof n=="function"?r.local?da:ha:r.local?ca:la)(r,n))}function Ir(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pa(e){return function(){this.style.removeProperty(e)}}function ya(e,n,r){return function(){this.style.setProperty(e,n,r)}}function va(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function _a(e,n,r){return arguments.length>1?this.each((n==null?pa:typeof n=="function"?va:ya)(e,n,r??"")):jt(this.node(),e)}function jt(e,n){return e.style.getPropertyValue(n)||Ir(e).getComputedStyle(e,null).getPropertyValue(n)}function ma(e){return function(){delete this[e]}}function xa(e,n){return function(){this[e]=n}}function wa(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function ba(e,n){return arguments.length>1?this.each((n==null?ma:typeof n=="function"?wa:xa)(e,n)):this.node()[e]}function $r(e){return e.trim().split(/^|\s+/)}function gn(e){return e.classList||new Dr(e)}function Dr(e){this._node=e,this._names=$r(e.getAttribute("class")||"")}Dr.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Fr(e,n){for(var r=gn(e),i=-1,a=n.length;++i<a;)r.add(n[i])}function Lr(e,n){for(var r=gn(e),i=-1,a=n.length;++i<a;)r.remove(n[i])}function ka(e){return function(){Fr(this,e)}}function Aa(e){return function(){Lr(this,e)}}function Ca(e,n){return function(){(n.apply(this,arguments)?Fr:Lr)(this,e)}}function Ma(e,n){var r=$r(e+"");if(arguments.length<2){for(var i=gn(this.node()),a=-1,o=r.length;++a<o;)if(!i.contains(r[a]))return!1;return!0}return this.each((typeof n=="function"?Ca:n?ka:Aa)(r,n))}function Sa(){this.textContent=""}function za(e){return function(){this.textContent=e}}function Ea(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function Pa(e){return arguments.length?this.each(e==null?Sa:(typeof e=="function"?Ea:za)(e)):this.node().textContent}function Ta(){this.innerHTML=""}function Oa(e){return function(){this.innerHTML=e}}function Na(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function Ra(e){return arguments.length?this.each(e==null?Ta:(typeof e=="function"?Na:Oa)(e)):this.node().innerHTML}function Ia(){this.nextSibling&&this.parentNode.appendChild(this)}function $a(){return this.each(Ia)}function Da(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fa(){return this.each(Da)}function La(e){var n=typeof e=="function"?e:Pr(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Ua(){return null}function ja(e,n){var r=typeof e=="function"?e:Pr(e),i=n==null?Ua:typeof n=="function"?n:dn(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function qa(){var e=this.parentNode;e&&e.removeChild(this)}function Ha(){return this.each(qa)}function Va(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Ga(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Ba(e){return this.select(e?Ga:Va)}function Xa(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Wa(e){return function(n){e.call(this,n,this.__data__)}}function Ka(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function Ya(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,a=n.length,o;r<a;++r)o=n[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function Za(e,n,r){return function(){var i=this.__on,a,o=Wa(n);if(i){for(var s=0,u=i.length;s<u;++s)if((a=i[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=n;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:n,listener:o,options:r},i?i.push(a):this.__on=[a]}}function Qa(e,n,r){var i=Ka(e+""),a,o=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,l=u.length,c;f<l;++f)for(a=0,c=u[f];a<o;++a)if((s=i[a]).type===c.type&&s.name===c.name)return c.value}return}for(u=n?Za:Ya,a=0;a<o;++a)this.each(u(i[a],n,r));return this}function Ur(e,n,r){var i=Ir(e),a=i.CustomEvent;typeof a=="function"?a=new a(n,r):(a=i.document.createEvent("Event"),r?(a.initEvent(n,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function Ja(e,n){return function(){return Ur(this,e,n)}}function to(e,n){return function(){return Ur(this,e,n.apply(this,arguments))}}function eo(e,n){return this.each((typeof n=="function"?to:Ja)(e,n))}function*no(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&(yield s)}var jr=[null];function et(e,n){this._groups=e,this._parents=n}function ce(){return new et([[document.documentElement]],jr)}function ro(){return this}et.prototype=ce.prototype={constructor:et,select:Ei,selectAll:Ni,selectChild:Di,selectChildren:ji,filter:qi,data:Wi,enter:Hi,exit:Yi,join:Zi,merge:Qi,selection:ro,order:Ji,sort:ta,call:na,nodes:ra,node:ia,size:aa,empty:oa,each:sa,attr:ga,style:_a,property:ba,classed:Ma,text:Pa,html:Ra,raise:$a,lower:Fa,append:La,insert:ja,remove:Ha,clone:Ba,datum:Xa,on:Qa,dispatch:eo,[Symbol.iterator]:no};function st(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],jr)}function io(e){let n;for(;n=e.sourceEvent;)e=n;return e}function wt(e,n){if(e=io(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}var ao={value:()=>{}};function he(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ae(r)}function Ae(e){this._=e}function oo(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",a=r.indexOf(".");if(a>=0&&(i=r.slice(a+1),r=r.slice(0,a)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ae.prototype=he.prototype={constructor:Ae,on:function(e,n){var r=this._,i=oo(e+"",r),a,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((a=(e=i[o]).type)&&(a=so(r[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(a=(e=i[o]).type)r[a]=Rn(r[a],e.name,n);else if(n==null)for(a in r)r[a]=Rn(r[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ae(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),i=0,a,o;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,r)}};function so(e,n){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).name===n)return a.value}function Rn(e,n,r){for(var i=0,a=e.length;i<a;++i)if(e[i].name===n){e[i]=ao,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const uo={passive:!1},ae={capture:!0,passive:!1};function qe(e){e.stopImmediatePropagation()}function Lt(e){e.preventDefault(),e.stopImmediatePropagation()}function qr(e){var n=e.document.documentElement,r=st(e).on("dragstart.drag",Lt,ae);"onselectstart"in n?r.on("selectstart.drag",Lt,ae):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Hr(e,n){var r=e.document.documentElement,i=st(e).on("dragstart.drag",null);n&&(i.on("click.drag",Lt,ae),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const ve=e=>()=>e;function Qe(e,{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:u,dx:f,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Qe.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function fo(e){return!e.ctrlKey&&!e.button}function lo(){return this.parentNode}function co(e,n){return n??{x:e.x,y:e.y}}function ho(){return navigator.maxTouchPoints||"ontouchstart"in this}function go(){var e=fo,n=lo,r=co,i=ho,a={},o=he("start","drag","end"),s=0,u,f,l,c,h=0;function d(_){_.on("mousedown.drag",g).filter(i).on("touchstart.drag",x).on("touchmove.drag",p,uo).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(_,v){if(!(c||!e.call(this,_,v))){var w=A(this,n.call(this,_,v),_,v,"mouse");w&&(st(_.view).on("mousemove.drag",y,ae).on("mouseup.drag",m,ae),qr(_.view),qe(_),l=!1,u=_.clientX,f=_.clientY,w("start",_))}}function y(_){if(Lt(_),!l){var v=_.clientX-u,w=_.clientY-f;l=v*v+w*w>h}a.mouse("drag",_)}function m(_){st(_.view).on("mousemove.drag mouseup.drag",null),Hr(_.view,l),Lt(_),a.mouse("end",_)}function x(_,v){if(e.call(this,_,v)){var w=_.changedTouches,b=n.call(this,_,v),M=w.length,T,P;for(T=0;T<M;++T)(P=A(this,b,_,v,w[T].identifier,w[T]))&&(qe(_),P("start",_,w[T]))}}function p(_){var v=_.changedTouches,w=v.length,b,M;for(b=0;b<w;++b)(M=a[v[b].identifier])&&(Lt(_),M("drag",_,v[b]))}function C(_){var v=_.changedTouches,w=v.length,b,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),b=0;b<w;++b)(M=a[v[b].identifier])&&(qe(_),M("end",_,v[b]))}function A(_,v,w,b,M,T){var P=o.copy(),R=wt(T||w,v),I,L,k;if((k=r.call(_,new Qe("beforestart",{sourceEvent:w,target:d,identifier:M,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:P}),b))!=null)return I=k.x-R[0]||0,L=k.y-R[1]||0,function E(S,O,$){var D=R,F;switch(S){case"start":a[M]=E,F=s++;break;case"end":delete a[M],--s;case"drag":R=wt($||O,v),F=s;break}P.call(S,_,new Qe(S,{sourceEvent:O,subject:k,target:d,identifier:M,active:F,x:R[0]+I,y:R[1]+L,dx:R[0]-D[0],dy:R[1]-D[1],dispatch:P}),b)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ve(!!_),d):e},d.container=function(_){return arguments.length?(n=typeof _=="function"?_:ve(_),d):n},d.subject=function(_){return arguments.length?(r=typeof _=="function"?_:ve(_),d):r},d.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:ve(!!_),d):i},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,d):Math.sqrt(h)},d}function pn(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Vr(e,n){var r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r}function de(){}var oe=.7,Ee=1/oe,Ut="\\s*([+-]?\\d+)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",po=/^#([0-9a-f]{3,8})$/,yo=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),vo=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),_o=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${se}\\)$`),mo=new RegExp(`^rgba\\(${ht},${ht},${ht},${se}\\)$`),xo=new RegExp(`^hsl\\(${se},${ht},${ht}\\)$`),wo=new RegExp(`^hsla\\(${se},${ht},${ht},${se}\\)$`),In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(de,ue,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHex8:bo,formatHsl:ko,formatRgb:Dn,toString:Dn});function $n(){return this.rgb().formatHex()}function bo(){return this.rgb().formatHex8()}function ko(){return Gr(this).formatHsl()}function Dn(){return this.rgb().formatRgb()}function ue(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=po.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Fn(n):r===3?new Q(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?_e(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?_e(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=yo.exec(e))?new Q(n[1],n[2],n[3],1):(n=vo.exec(e))?new Q(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=_o.exec(e))?_e(n[1],n[2],n[3],n[4]):(n=mo.exec(e))?_e(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=xo.exec(e))?jn(n[1],n[2]/100,n[3]/100,1):(n=wo.exec(e))?jn(n[1],n[2]/100,n[3]/100,n[4]):In.hasOwnProperty(e)?Fn(In[e]):e==="transparent"?new Q(NaN,NaN,NaN,0):null}function Fn(e){return new Q(e>>16&255,e>>8&255,e&255,1)}function _e(e,n,r,i){return i<=0&&(e=n=r=NaN),new Q(e,n,r,i)}function Ao(e){return e instanceof de||(e=ue(e)),e?(e=e.rgb(),new Q(e.r,e.g,e.b,e.opacity)):new Q}function Je(e,n,r,i){return arguments.length===1?Ao(e):new Q(e,n,r,i??1)}function Q(e,n,r,i){this.r=+e,this.g=+n,this.b=+r,this.opacity=+i}pn(Q,Je,Vr(de,{brighter(e){return e=e==null?Ee:Math.pow(Ee,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?oe:Math.pow(oe,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Q(Nt(this.r),Nt(this.g),Nt(this.b),Pe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ln,formatHex:Ln,formatHex8:Co,formatRgb:Un,toString:Un}));function Ln(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function Co(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function Un(){const e=Pe(this.opacity);return`${e===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${e===1?")":`, ${e})`}`}function Pe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ot(e){return e=Nt(e),(e<16?"0":"")+e.toString(16)}function jn(e,n,r,i){return i<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new ut(e,n,r,i)}function Gr(e){if(e instanceof ut)return new ut(e.h,e.s,e.l,e.opacity);if(e instanceof de||(e=ue(e)),!e)return new ut;if(e instanceof ut)return e;e=e.rgb();var n=e.r/255,r=e.g/255,i=e.b/255,a=Math.min(n,r,i),o=Math.max(n,r,i),s=NaN,u=o-a,f=(o+a)/2;return u?(n===o?s=(r-i)/u+(r<i)*6:r===o?s=(i-n)/u+2:s=(n-r)/u+4,u/=f<.5?o+a:2-o-a,s*=60):u=f>0&&f<1?0:s,new ut(s,u,f,e.opacity)}function Mo(e,n,r,i){return arguments.length===1?Gr(e):new ut(e,n,r,i??1)}function ut(e,n,r,i){this.h=+e,this.s=+n,this.l=+r,this.opacity=+i}pn(ut,Mo,Vr(de,{brighter(e){return e=e==null?Ee:Math.pow(Ee,e),new ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oe:Math.pow(oe,e),new ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new Q(He(e>=240?e-240:e+120,a,i),He(e,a,i),He(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new ut(qn(this.h),me(this.s),me(this.l),Pe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pe(this.opacity);return`${e===1?"hsl(":"hsla("}${qn(this.h)}, ${me(this.s)*100}%, ${me(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qn(e){return e=(e||0)%360,e<0?e+360:e}function me(e){return Math.max(0,Math.min(1,e||0))}function He(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const Br=e=>()=>e;function So(e,n){return function(r){return e+r*n}}function zo(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(i){return Math.pow(e+i*n,r)}}function Eo(e){return(e=+e)==1?Xr:function(n,r){return r-n?zo(n,r,e):Br(isNaN(n)?r:n)}}function Xr(e,n){var r=n-e;return r?So(e,r):Br(isNaN(e)?n:e)}const Hn=function e(n){var r=Eo(n);function i(a,o){var s=r((a=Je(a)).r,(o=Je(o)).r),u=r(a.g,o.g),f=r(a.b,o.b),l=Xr(a.opacity,o.opacity);return function(c){return a.r=s(c),a.g=u(c),a.b=f(c),a.opacity=l(c),a+""}}return i.gamma=e,i}(1);function Et(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(tn.source,"g");function Po(e){return function(){return e}}function To(e){return function(n){return e(n)+""}}function Oo(e,n){var r=tn.lastIndex=Ve.lastIndex=0,i,a,o,s=-1,u=[],f=[];for(e=e+"",n=n+"";(i=tn.exec(e))&&(a=Ve.exec(n));)(o=a.index)>r&&(o=n.slice(r,o),u[s]?u[s]+=o:u[++s]=o),(i=i[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,f.push({i:s,x:Et(i,a)})),r=Ve.lastIndex;return r<n.length&&(o=n.slice(r),u[s]?u[s]+=o:u[++s]=o),u.length<2?f[0]?To(f[0].x):Po(n):(n=f.length,function(l){for(var c=0,h;c<n;++c)u[(h=f[c]).i]=h.x(l);return u.join("")})}var Vn=180/Math.PI,en={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wr(e,n,r,i,a,o){var s,u,f;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(f=e*r+n*i)&&(r-=e*f,i-=n*f),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,f/=u),e*i<n*r&&(e=-e,n=-n,f=-f,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(n,e)*Vn,skewX:Math.atan(f)*Vn,scaleX:s,scaleY:u}}var xe;function No(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?en:Wr(n.a,n.b,n.c,n.d,n.e,n.f)}function Ro(e){return e==null||(xe||(xe=document.createElementNS("http://www.w3.org/2000/svg","g")),xe.setAttribute("transform",e),!(e=xe.transform.baseVal.consolidate()))?en:(e=e.matrix,Wr(e.a,e.b,e.c,e.d,e.e,e.f))}function Kr(e,n,r,i){function a(l){return l.length?l.pop()+" ":""}function o(l,c,h,d,g,y){if(l!==h||c!==d){var m=g.push("translate(",null,n,null,r);y.push({i:m-4,x:Et(l,h)},{i:m-2,x:Et(c,d)})}else(h||d)&&g.push("translate("+h+n+d+r)}function s(l,c,h,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:h.push(a(h)+"rotate(",null,i)-2,x:Et(l,c)})):c&&h.push(a(h)+"rotate("+c+i)}function u(l,c,h,d){l!==c?d.push({i:h.push(a(h)+"skewX(",null,i)-2,x:Et(l,c)}):c&&h.push(a(h)+"skewX("+c+i)}function f(l,c,h,d,g,y){if(l!==h||c!==d){var m=g.push(a(g)+"scale(",null,",",null,")");y.push({i:m-4,x:Et(l,h)},{i:m-2,x:Et(c,d)})}else(h!==1||d!==1)&&g.push(a(g)+"scale("+h+","+d+")")}return function(l,c){var h=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,d),s(l.rotate,c.rotate,h,d),u(l.skewX,c.skewX,h,d),f(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,d),l=c=null,function(g){for(var y=-1,m=d.length,x;++y<m;)h[(x=d[y]).i]=x.x(g);return h.join("")}}}var Io=Kr(No,"px, ","px)","deg)"),$o=Kr(Ro,", ",")",")"),Do=1e-12;function Gn(e){return((e=Math.exp(e))+1/e)/2}function Fo(e){return((e=Math.exp(e))-1/e)/2}function Lo(e){return((e=Math.exp(2*e))-1)/(e+1)}const Uo=function e(n,r,i){function a(o,s){var u=o[0],f=o[1],l=o[2],c=s[0],h=s[1],d=s[2],g=c-u,y=h-f,m=g*g+y*y,x,p;if(m<Do)p=Math.log(d/l)/n,x=function(b){return[u+b*g,f+b*y,l*Math.exp(n*b*p)]};else{var C=Math.sqrt(m),A=(d*d-l*l+i*m)/(2*l*r*C),_=(d*d-l*l-i*m)/(2*d*r*C),v=Math.log(Math.sqrt(A*A+1)-A),w=Math.log(Math.sqrt(_*_+1)-_);p=(w-v)/n,x=function(b){var M=b*p,T=Gn(v),P=l/(r*C)*(T*Lo(n*M+v)-Fo(v));return[u+P*g,f+P*y,l*T/Gn(n*M+v)]}}return x.duration=p*1e3*n/Math.SQRT2,x}return a.rho=function(o){var s=Math.max(.001,+o),u=s*s,f=u*u;return e(s,u,f)},a}(Math.SQRT2,2,4);var qt=0,Zt=0,Ht=0,Yr=1e3,Te,Qt,Oe=0,Rt=0,Fe=0,fe=typeof performance=="object"&&performance.now?performance:Date,Zr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yn(){return Rt||(Zr(jo),Rt=fe.now()+Fe)}function jo(){Rt=0}function Ne(){this._call=this._time=this._next=null}Ne.prototype=vn.prototype={constructor:Ne,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?yn():+r)+(n==null?0:+n),!this._next&&Qt!==this&&(Qt?Qt._next=this:Te=this,Qt=this),this._call=e,this._time=r,nn()},stop:function(){this._call&&(this._call=null,this._time=1/0,nn())}};function vn(e,n,r){var i=new Ne;return i.restart(e,n,r),i}function qo(){yn(),++qt;for(var e=Te,n;e;)(n=Rt-e._time)>=0&&e._call.call(void 0,n),e=e._next;--qt}function Bn(){Rt=(Oe=fe.now())+Fe,qt=Zt=0;try{qo()}finally{qt=0,Vo(),Rt=0}}function Ho(){var e=fe.now(),n=e-Oe;n>Yr&&(Fe-=n,Oe=e)}function Vo(){for(var e,n=Te,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Te=r);Qt=e,nn(i)}function nn(e){if(!qt){Zt&&(Zt=clearTimeout(Zt));var n=e-Rt;n>24?(e<1/0&&(Zt=setTimeout(Bn,e-fe.now()-Fe)),Ht&&(Ht=clearInterval(Ht))):(Ht||(Oe=fe.now(),Ht=setInterval(Ho,Yr)),qt=1,Zr(Bn))}}function Xn(e,n,r){var i=new Ne;return n=n==null?0:+n,i.restart(a=>{i.stop(),e(a+n)},n,r),i}var Go=he("start","end","cancel","interrupt"),Bo=[],Qr=0,Wn=1,rn=2,Ce=3,Kn=4,an=5,Me=6;function Le(e,n,r,i,a,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Xo(e,r,{name:n,index:i,group:a,on:Go,tween:Bo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qr})}function _n(e,n){var r=lt(e,n);if(r.state>Qr)throw new Error("too late; already scheduled");return r}function gt(e,n){var r=lt(e,n);if(r.state>Ce)throw new Error("too late; already running");return r}function lt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Xo(e,n,r){var i=e.__transition,a;i[n]=r,r.timer=vn(o,0,r.time);function o(l){r.state=Wn,r.timer.restart(s,r.delay,r.time),r.delay<=l&&s(l-r.delay)}function s(l){var c,h,d,g;if(r.state!==Wn)return f();for(c in i)if(g=i[c],g.name===r.name){if(g.state===Ce)return Xn(s);g.state===Kn?(g.state=Me,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete i[c]):+c<n&&(g.state=Me,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete i[c])}if(Xn(function(){r.state===Ce&&(r.state=Kn,r.timer.restart(u,r.delay,r.time),u(l))}),r.state=rn,r.on.call("start",e,e.__data__,r.index,r.group),r.state===rn){for(r.state=Ce,a=new Array(d=r.tween.length),c=0,h=-1;c<d;++c)(g=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(a[++h]=g);a.length=h+1}}function u(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(f),r.state=an,1),h=-1,d=a.length;++h<d;)a[h].call(e,c);r.state===an&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=Me,r.timer.stop(),delete i[n];for(var l in i)return;delete e.__transition}}function Se(e,n){var r=e.__transition,i,a,o=!0,s;if(r){n=n==null?null:n+"";for(s in r){if((i=r[s]).name!==n){o=!1;continue}a=i.state>rn&&i.state<an,i.state=Me,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}o&&delete e.__transition}}function Wo(e){return this.each(function(){Se(this,e)})}function Ko(e,n){var r,i;return function(){var a=gt(this,e),o=a.tween;if(o!==r){i=r=o;for(var s=0,u=i.length;s<u;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}a.tween=i}}function Yo(e,n,r){var i,a;if(typeof r!="function")throw new Error;return function(){var o=gt(this,e),s=o.tween;if(s!==i){a=(i=s).slice();for(var u={name:n,value:r},f=0,l=a.length;f<l;++f)if(a[f].name===n){a[f]=u;break}f===l&&a.push(u)}o.tween=a}}function Zo(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=lt(this.node(),r).tween,a=0,o=i.length,s;a<o;++a)if((s=i[a]).name===e)return s.value;return null}return this.each((n==null?Ko:Yo)(r,e,n))}function mn(e,n,r){var i=e._id;return e.each(function(){var a=gt(this,i);(a.value||(a.value={}))[n]=r.apply(this,arguments)}),function(a){return lt(a,i).value[n]}}function Jr(e,n){var r;return(typeof n=="number"?Et:n instanceof ue?Hn:(r=ue(n))?(n=r,Hn):Oo)(e,n)}function Qo(e){return function(){this.removeAttribute(e)}}function Jo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ts(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===i?o:o=n(i=s,r)}}function es(e,n,r){var i,a=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i?o:o=n(i=s,r)}}function ns(e,n,r){var i,a,o;return function(){var s,u=r(this),f;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=u+"",s===f?null:s===i&&f===a?o:(a=f,o=n(i=s,u)))}}function rs(e,n,r){var i,a,o;return function(){var s,u=r(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=u+"",s===f?null:s===i&&f===a?o:(a=f,o=n(i=s,u)))}}function is(e,n){var r=De(e),i=r==="transform"?$o:Jr;return this.attrTween(e,typeof n=="function"?(r.local?rs:ns)(r,i,mn(this,"attr."+e,n)):n==null?(r.local?Jo:Qo)(r):(r.local?es:ts)(r,i,n))}function as(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function os(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function ss(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&os(e,o)),r}return a._value=n,a}function us(e,n){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&as(e,o)),r}return a._value=n,a}function fs(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=De(e);return this.tween(r,(i.local?ss:us)(i,n))}function ls(e,n){return function(){_n(this,e).delay=+n.apply(this,arguments)}}function cs(e,n){return n=+n,function(){_n(this,e).delay=n}}function hs(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?ls:cs)(n,e)):lt(this.node(),n).delay}function ds(e,n){return function(){gt(this,e).duration=+n.apply(this,arguments)}}function gs(e,n){return n=+n,function(){gt(this,e).duration=n}}function ps(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?ds:gs)(n,e)):lt(this.node(),n).duration}function ys(e,n){if(typeof n!="function")throw new Error;return function(){gt(this,e).ease=n}}function vs(e){var n=this._id;return arguments.length?this.each(ys(n,e)):lt(this.node(),n).ease}function _s(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;gt(this,e).ease=r}}function ms(e){if(typeof e!="function")throw new Error;return this.each(_s(this._id,e))}function xs(e){typeof e!="function"&&(e=Or(e));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o=n[a],s=o.length,u=i[a]=[],f,l=0;l<s;++l)(f=o[l])&&e.call(f,f.__data__,l,o)&&u.push(f);return new Mt(i,this._parents,this._name,this._id)}function ws(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var f=n[u],l=r[u],c=f.length,h=s[u]=new Array(c),d,g=0;g<c;++g)(d=f[g]||l[g])&&(h[g]=d);for(;u<i;++u)s[u]=n[u];return new Mt(s,this._parents,this._name,this._id)}function bs(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function ks(e,n,r){var i,a,o=bs(n)?_n:gt;return function(){var s=o(this,e),u=s.on;u!==i&&(a=(i=u).copy()).on(n,r),s.on=a}}function As(e,n){var r=this._id;return arguments.length<2?lt(this.node(),r).on.on(e):this.each(ks(r,e,n))}function Cs(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function Ms(){return this.on("end.remove",Cs(this._id))}function Ss(e){var n=this._name,r=this._id;typeof e!="function"&&(e=dn(e));for(var i=this._groups,a=i.length,o=new Array(a),s=0;s<a;++s)for(var u=i[s],f=u.length,l=o[s]=new Array(f),c,h,d=0;d<f;++d)(c=u[d])&&(h=e.call(c,c.__data__,d,u))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h,Le(l[d],n,r,d,l,lt(c,r)));return new Mt(o,this._parents,n,r)}function zs(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Tr(e));for(var i=this._groups,a=i.length,o=[],s=[],u=0;u<a;++u)for(var f=i[u],l=f.length,c,h=0;h<l;++h)if(c=f[h]){for(var d=e.call(c,c.__data__,h,f),g,y=lt(c,r),m=0,x=d.length;m<x;++m)(g=d[m])&&Le(g,n,r,m,d,y);o.push(d),s.push(c)}return new Mt(o,s,n,r)}var Es=ce.prototype.constructor;function Ps(){return new Es(this._groups,this._parents)}function Ts(e,n){var r,i,a;return function(){var o=jt(this,e),s=(this.style.removeProperty(e),jt(this,e));return o===s?null:o===r&&s===i?a:a=n(r=o,i=s)}}function ti(e){return function(){this.style.removeProperty(e)}}function Os(e,n,r){var i,a=r+"",o;return function(){var s=jt(this,e);return s===a?null:s===i?o:o=n(i=s,r)}}function Ns(e,n,r){var i,a,o;return function(){var s=jt(this,e),u=r(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),jt(this,e))),s===f?null:s===i&&f===a?o:(a=f,o=n(i=s,u))}}function Rs(e,n){var r,i,a,o="style."+n,s="end."+o,u;return function(){var f=gt(this,e),l=f.on,c=f.value[o]==null?u||(u=ti(n)):void 0;(l!==r||a!==c)&&(i=(r=l).copy()).on(s,a=c),f.on=i}}function Is(e,n,r){var i=(e+="")=="transform"?Io:Jr;return n==null?this.styleTween(e,Ts(e,i)).on("end.style."+e,ti(e)):typeof n=="function"?this.styleTween(e,Ns(e,i,mn(this,"style."+e,n))).each(Rs(this._id,e)):this.styleTween(e,Os(e,i,n),r).on("end.style."+e,null)}function $s(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function Ds(e,n,r){var i,a;function o(){var s=n.apply(this,arguments);return s!==a&&(i=(a=s)&&$s(e,s,r)),i}return o._value=n,o}function Fs(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Ds(e,n,r??""))}function Ls(e){return function(){this.textContent=e}}function Us(e){return function(){var n=e(this);this.textContent=n??""}}function js(e){return this.tween("text",typeof e=="function"?Us(mn(this,"text",e)):Ls(e==null?"":e+""))}function qs(e){return function(n){this.textContent=e.call(this,n)}}function Hs(e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&qs(a)),n}return i._value=e,i}function Vs(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Hs(e))}function Gs(){for(var e=this._name,n=this._id,r=ei(),i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],u=s.length,f,l=0;l<u;++l)if(f=s[l]){var c=lt(f,n);Le(f,e,r,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Mt(i,this._parents,e,r)}function Bs(){var e,n,r=this,i=r._id,a=r.size();return new Promise(function(o,s){var u={value:s},f={value:function(){--a===0&&o()}};r.each(function(){var l=gt(this,i),c=l.on;c!==e&&(n=(e=c).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(f)),l.on=n}),a===0&&o()})}var Xs=0;function Mt(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function ei(){return++Xs}var vt=ce.prototype;Mt.prototype={constructor:Mt,select:Ss,selectAll:zs,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:xs,merge:ws,selection:Ps,transition:Gs,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:As,attr:is,attrTween:fs,style:Is,styleTween:Fs,text:js,textTween:Vs,remove:Ms,tween:Zo,delay:hs,duration:ps,ease:vs,easeVarying:ms,end:Bs,[Symbol.iterator]:vt[Symbol.iterator]};function Ws(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ks={time:null,delay:0,duration:250,ease:Ws};function Ys(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function Zs(e){var n,r;e instanceof Mt?(n=e._id,e=e._name):(n=ei(),(r=Ks).time=yn(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var s=i[o],u=s.length,f,l=0;l<u;++l)(f=s[l])&&Le(f,e,n,l,s,r||Ys(f,n));return new Mt(i,this._parents,e,n)}ce.prototype.interrupt=Wo;ce.prototype.transition=Zs;const we=e=>()=>e;function Qs(e,{sourceEvent:n,target:r,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function kt(e,n,r){this.k=e,this.x=n,this.y=r}kt.prototype={constructor:kt,scale:function(e){return e===1?this:new kt(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new kt(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xn=new kt(1,0,0);ct.prototype=kt.prototype;function ct(e){for(;!e.__zoom;)if(!(e=e.parentNode))return xn;return e.__zoom}function Ge(e){e.stopImmediatePropagation()}function Vt(e){e.preventDefault(),e.stopImmediatePropagation()}function Js(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function tu(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yn(){return this.__zoom||xn}function eu(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function nu(){return navigator.maxTouchPoints||"ontouchstart"in this}function ru(e,n,r){var i=e.invertX(n[0][0])-r[0][0],a=e.invertX(n[1][0])-r[1][0],o=e.invertY(n[0][1])-r[0][1],s=e.invertY(n[1][1])-r[1][1];return e.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function iu(){var e=Js,n=tu,r=ru,i=eu,a=nu,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Uo,l=he("start","zoom","end"),c,h,d,g=500,y=150,m=0,x=10;function p(k){k.property("__zoom",Yn).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",P).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(k,E,S,O){var $=k.selection?k.selection():k;$.property("__zoom",Yn),k!==$?v(k,E,S,O):$.interrupt().each(function(){w(this,arguments).event(O).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},p.scaleBy=function(k,E,S,O){p.scaleTo(k,function(){var $=this.__zoom.k,D=typeof E=="function"?E.apply(this,arguments):E;return $*D},S,O)},p.scaleTo=function(k,E,S,O){p.transform(k,function(){var $=n.apply(this,arguments),D=this.__zoom,F=S==null?_($):typeof S=="function"?S.apply(this,arguments):S,U=D.invert(F),q=typeof E=="function"?E.apply(this,arguments):E;return r(A(C(D,q),F,U),$,s)},S,O)},p.translateBy=function(k,E,S,O){p.transform(k,function(){return r(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof S=="function"?S.apply(this,arguments):S),n.apply(this,arguments),s)},null,O)},p.translateTo=function(k,E,S,O,$){p.transform(k,function(){var D=n.apply(this,arguments),F=this.__zoom,U=O==null?_(D):typeof O=="function"?O.apply(this,arguments):O;return r(xn.translate(U[0],U[1]).scale(F.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof S=="function"?-S.apply(this,arguments):-S),D,s)},O,$)};function C(k,E){return E=Math.max(o[0],Math.min(o[1],E)),E===k.k?k:new kt(E,k.x,k.y)}function A(k,E,S){var O=E[0]-S[0]*k.k,$=E[1]-S[1]*k.k;return O===k.x&&$===k.y?k:new kt(k.k,O,$)}function _(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function v(k,E,S,O){k.on("start.zoom",function(){w(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(O).end()}).tween("zoom",function(){var $=this,D=arguments,F=w($,D).event(O),U=n.apply($,D),q=S==null?_(U):typeof S=="function"?S.apply($,D):S,X=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),B=$.__zoom,it=typeof E=="function"?E.apply($,D):E,pt=f(B.invert(q).concat(X/B.k),it.invert(q).concat(X/it.k));return function(at){if(at===1)at=it;else{var yt=pt(at),je=X/yt[2];at=new kt(je,q[0]-yt[0]*je,q[1]-yt[1]*je)}F.zoom(null,at)}})}function w(k,E,S){return!S&&k.__zooming||new b(k,E)}function b(k,E){this.that=k,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(k,E),this.taps=0}b.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,E){return this.mouse&&k!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var E=st(this.that).datum();l.call(k,this.that,new Qs(k,{sourceEvent:this.sourceEvent,target:p,type:k,transform:this.that.__zoom,dispatch:l}),E)}};function M(k,...E){if(!e.apply(this,arguments))return;var S=w(this,E).event(k),O=this.__zoom,$=Math.max(o[0],Math.min(o[1],O.k*Math.pow(2,i.apply(this,arguments)))),D=wt(k);if(S.wheel)(S.mouse[0][0]!==D[0]||S.mouse[0][1]!==D[1])&&(S.mouse[1]=O.invert(S.mouse[0]=D)),clearTimeout(S.wheel);else{if(O.k===$)return;S.mouse=[D,O.invert(D)],Se(this),S.start()}Vt(k),S.wheel=setTimeout(F,y),S.zoom("mouse",r(A(C(O,$),S.mouse[0],S.mouse[1]),S.extent,s));function F(){S.wheel=null,S.end()}}function T(k,...E){if(d||!e.apply(this,arguments))return;var S=k.currentTarget,O=w(this,E,!0).event(k),$=st(k.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",X,!0),D=wt(k,S),F=k.clientX,U=k.clientY;qr(k.view),Ge(k),O.mouse=[D,this.__zoom.invert(D)],Se(this),O.start();function q(B){if(Vt(B),!O.moved){var it=B.clientX-F,pt=B.clientY-U;O.moved=it*it+pt*pt>m}O.event(B).zoom("mouse",r(A(O.that.__zoom,O.mouse[0]=wt(B,S),O.mouse[1]),O.extent,s))}function X(B){$.on("mousemove.zoom mouseup.zoom",null),Hr(B.view,O.moved),Vt(B),O.event(B).end()}}function P(k,...E){if(e.apply(this,arguments)){var S=this.__zoom,O=wt(k.changedTouches?k.changedTouches[0]:k,this),$=S.invert(O),D=S.k*(k.shiftKey?.5:2),F=r(A(C(S,D),O,$),n.apply(this,E),s);Vt(k),u>0?st(this).transition().duration(u).call(v,F,O,k):st(this).call(p.transform,F,O,k)}}function R(k,...E){if(e.apply(this,arguments)){var S=k.touches,O=S.length,$=w(this,E,k.changedTouches.length===O).event(k),D,F,U,q;for(Ge(k),F=0;F<O;++F)U=S[F],q=wt(U,this),q=[q,this.__zoom.invert(q),U.identifier],$.touch0?!$.touch1&&$.touch0[2]!==q[2]&&($.touch1=q,$.taps=0):($.touch0=q,D=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),D&&($.taps<2&&(h=q[0],c=setTimeout(function(){c=null},g)),Se(this),$.start())}}function I(k,...E){if(this.__zooming){var S=w(this,E).event(k),O=k.changedTouches,$=O.length,D,F,U,q;for(Vt(k),D=0;D<$;++D)F=O[D],U=wt(F,this),S.touch0&&S.touch0[2]===F.identifier?S.touch0[0]=U:S.touch1&&S.touch1[2]===F.identifier&&(S.touch1[0]=U);if(F=S.that.__zoom,S.touch1){var X=S.touch0[0],B=S.touch0[1],it=S.touch1[0],pt=S.touch1[1],at=(at=it[0]-X[0])*at+(at=it[1]-X[1])*at,yt=(yt=pt[0]-B[0])*yt+(yt=pt[1]-B[1])*yt;F=C(F,Math.sqrt(at/yt)),U=[(X[0]+it[0])/2,(X[1]+it[1])/2],q=[(B[0]+pt[0])/2,(B[1]+pt[1])/2]}else if(S.touch0)U=S.touch0[0],q=S.touch0[1];else return;S.zoom("touch",r(A(F,U,q),S.extent,s))}}function L(k,...E){if(this.__zooming){var S=w(this,E).event(k),O=k.changedTouches,$=O.length,D,F;for(Ge(k),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),D=0;D<$;++D)F=O[D],S.touch0&&S.touch0[2]===F.identifier?delete S.touch0:S.touch1&&S.touch1[2]===F.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(F=wt(F,this),Math.hypot(h[0]-F[0],h[1]-F[1])<x)){var U=st(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return p.wheelDelta=function(k){return arguments.length?(i=typeof k=="function"?k:we(+k),p):i},p.filter=function(k){return arguments.length?(e=typeof k=="function"?k:we(!!k),p):e},p.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:we(!!k),p):a},p.extent=function(k){return arguments.length?(n=typeof k=="function"?k:we([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),p):n},p.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],p):[o[0],o[1]]},p.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(k){return arguments.length?(r=k,p):r},p.duration=function(k){return arguments.length?(u=+k,p):u},p.interpolate=function(k){return arguments.length?(f=k,p):f},p.on=function(){var k=l.on.apply(l,arguments);return k===l?p:k},p.clickDistance=function(k){return arguments.length?(m=(k=+k)*k,p):Math.sqrt(m)},p.tapDistance=function(k){return arguments.length?(x=+k,p):x},p}class Zn extends Map{constructor(n,r=su){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[i,a]of n)this.set(i,a)}get(n){return super.get(Qn(this,n))}has(n){return super.has(Qn(this,n))}set(n,r){return super.set(au(this,n),r)}delete(n){return super.delete(ou(this,n))}}function Qn({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):r}function au({_intern:e,_key:n},r){const i=n(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function ou({_intern:e,_key:n},r){const i=n(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function su(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jn(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function tr(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let a of e)(a=n(a,++i,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ni="Expected a function",er=0/0,uu="[object Symbol]",fu=/^\s+|\s+$/g,lu=/^[-+]0x[0-9a-f]+$/i,cu=/^0b[01]+$/i,hu=/^0o[0-7]+$/i,du=parseInt,gu=typeof be=="object"&&be&&be.Object===Object&&be,pu=typeof self=="object"&&self&&self.Object===Object&&self,yu=gu||pu||Function("return this")(),vu=Object.prototype,_u=vu.toString,mu=Math.max,xu=Math.min,Be=function(){return yu.Date.now()};function wu(e,n,r){var i,a,o,s,u,f,l=0,c=!1,h=!1,d=!0;if(typeof e!="function")throw new TypeError(ni);n=nr(n)||0,Re(r)&&(c=!!r.leading,h="maxWait"in r,o=h?mu(nr(r.maxWait)||0,n):o,d="trailing"in r?!!r.trailing:d);function g(w){var b=i,M=a;return i=a=void 0,l=w,s=e.apply(M,b),s}function y(w){return l=w,u=setTimeout(p,n),c?g(w):s}function m(w){var b=w-f,M=w-l,T=n-b;return h?xu(T,o-M):T}function x(w){var b=w-f,M=w-l;return f===void 0||b>=n||b<0||h&&M>=o}function p(){var w=Be();if(x(w))return C(w);u=setTimeout(p,m(w))}function C(w){return u=void 0,d&&i?g(w):(i=a=void 0,s)}function A(){u!==void 0&&clearTimeout(u),l=0,i=f=a=u=void 0}function _(){return u===void 0?s:C(Be())}function v(){var w=Be(),b=x(w);if(i=arguments,a=this,f=w,b){if(u===void 0)return y(f);if(h)return u=setTimeout(p,n),g(f)}return u===void 0&&(u=setTimeout(p,n)),s}return v.cancel=A,v.flush=_,v}function bu(e,n,r){var i=!0,a=!0;if(typeof e!="function")throw new TypeError(ni);return Re(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),wu(e,n,{leading:i,maxWait:n,trailing:a})}function Re(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function ku(e){return!!e&&typeof e=="object"}function Au(e){return typeof e=="symbol"||ku(e)&&_u.call(e)==uu}function nr(e){if(typeof e=="number")return e;if(Au(e))return er;if(Re(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Re(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(fu,"");var r=cu.test(e);return r||hu.test(e)?du(e.slice(2),r?2:8):lu.test(e)?er:+e}var Cu=bu,ee={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var n=1.70158;return e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}},Bounce:{In:function(e){return 1-ee.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?ee.Bounce.In(e*2)*.5:ee.Bounce.Out(e*2-1)*.5+.5}}},Jt;typeof self>"u"&&typeof process<"u"&&process.hrtime?Jt=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Jt=self.performance.now.bind(self.performance):Date.now!==void 0?Jt=Date.now:Jt=function(){return new Date().getTime()};var Tt=Jt,ri=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},e.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},e.prototype.update=function(n,r){n===void 0&&(n=Tt()),r===void 0&&(r=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<i.length;a++){var o=this._tweens[i[a]],s=!r;o&&o.update(n,s)===!1&&!r&&delete this._tweens[i[a]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Ft={Linear:function(e,n){var r=e.length-1,i=r*n,a=Math.floor(i),o=Ft.Utils.Linear;return n<0?o(e[0],e[1],i):n>1?o(e[r],e[r-1],r-i):o(e[a],e[a+1>r?r:a+1],i-a)},Bezier:function(e,n){for(var r=0,i=e.length-1,a=Math.pow,o=Ft.Utils.Bernstein,s=0;s<=i;s++)r+=a(1-n,i-s)*a(n,s)*e[s]*o(i,s);return r},CatmullRom:function(e,n){var r=e.length-1,i=r*n,a=Math.floor(i),o=Ft.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(a=Math.floor(i=r*(1+n))),o(e[(a-1+r)%r],e[a],e[(a+1)%r],e[(a+2)%r],i-a)):n<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):n>1?e[r]-(o(e[r],e[r],e[r-1],e[r-1],i-r)-e[r]):o(e[a?a-1:0],e[a],e[r<a+1?r:a+1],e[r<a+2?r:a+2],i-a)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=Ft.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:function(){var e=[1];return function(n){var r=1;if(e[n])return e[n];for(var i=n;i>1;i--)r*=i;return e[n]=r,r}}(),CatmullRom:function(e,n,r,i,a){var o=(r-e)*.5,s=(i-n)*.5,u=a*a,f=a*u;return(2*n-2*r+o+s)*f+(-3*n+3*r-2*o-s)*u+o*a+n}}},wn=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),ii=new ri,Mu=function(){function e(n,r){r===void 0&&(r=ii),this._object=n,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ee.Linear.None,this._interpolationFunction=Ft.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=wn.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(n,r){return this._valuesEnd=Object.create(n),r!==void 0&&(this._duration=r),this},e.prototype.duration=function(n){return this._duration=n,this},e.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?Tt()+parseFloat(n):n:Tt(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(n,r,i,a){for(var o in i){var s=n[o],u=Array.isArray(s),f=u?"array":typeof s,l=!u&&Array.isArray(i[o]);if(!(f==="undefined"||f==="function")){if(l){var c=i[o];if(c.length===0)continue;c=c.map(this._handleRelativeValue.bind(this,s)),i[o]=[s].concat(c)}if((f==="object"||u)&&s&&!l){r[o]=u?[]:{};for(var h in s)r[o][h]=s[h];a[o]=u?[]:{},this._setupProperties(s,r[o],i[o],a[o])}else typeof r[o]>"u"&&(r[o]=s),u||(r[o]*=1),l?a[o]=i[o].slice().reverse():a[o]=r[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(n){return n===void 0&&(n=Tt()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},e.prototype.resume=function(n){return n===void 0&&(n=Tt()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return this._group=n,this},e.prototype.delay=function(n){return this._delayTime=n,this},e.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return this._yoyo=n,this},e.prototype.easing=function(n){return this._easingFunction=n,this},e.prototype.interpolation=function(n){return this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){if(n===void 0&&(n=Tt()),r===void 0&&(r=!0),this._isPaused)return!0;var i,a,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>o)return!1;r&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(n-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var s=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,f=this._chainedTweens.length;u<f;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,a){for(var o in i)if(r[o]!==void 0){var s=r[o]||0,u=i[o],f=Array.isArray(n[o]),l=Array.isArray(u),c=!f&&l;c?n[o]=this._interpolationFunction(u,a):typeof u=="object"&&u?this._updateProperties(n[o],s,u,a):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(n[o]=s+(u-s)*a))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e}(),Su="18.6.4",zu=wn.nextId,dt=ii,Eu=dt.getAll.bind(dt),Pu=dt.removeAll.bind(dt),Tu=dt.add.bind(dt),Ou=dt.remove.bind(dt),Nu=dt.update.bind(dt),Gt={Easing:ee,Group:ri,Interpolation:Ft,now:Tt,Sequence:wn,nextId:zu,Tween:Mu,VERSION:Su,getAll:Eu,removeAll:Pu,add:Tu,remove:Ou,update:Nu};function on(e,n,r){var i,a,o,s,u;n==null&&(n=100);function f(){var c=Date.now()-s;c<n&&c>=0?i=setTimeout(f,n-c):(i=null,r||(u=e.apply(o,a),o=a=null))}var l=function(){o=this,a=arguments,s=Date.now();var c=r&&!i;return i||(i=setTimeout(f,n)),c&&(u=e.apply(o,a),o=a=null),u};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(u=e.apply(o,a),o=a=null,clearTimeout(i),i=null)},l}on.debounce=on;var Ru=on;function Iu(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,u=[],f=!0,l=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=o.call(r)).done)&&(u.push(i.value),u.length!==n);f=!0);}catch(c){l=!0,a=c}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return u}}function $u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rr(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Hu(i.key),i)}}function Du(e,n,r){return n&&rr(e.prototype,n),r&&rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fu(e,n){return Lu(e)||Iu(e,n)||Uu(e,n)||ju()}function Lu(e){if(Array.isArray(e))return e}function Uu(e,n){if(e){if(typeof e=="string")return ir(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ir(e,n)}}function ir(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function ju(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qu(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Hu(e){var n=qu(e,"string");return typeof n=="symbol"?n:String(n)}var Vu=Du(function e(n,r){var i=r.default,a=i===void 0?null:i,o=r.triggerUpdate,s=o===void 0?!0:o,u=r.onChange,f=u===void 0?function(l,c){}:u;$u(this,e),this.name=n,this.defaultVal=a,this.triggerUpdate=s,this.onChange=f});function ai(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,a=i===void 0?{}:i,o=e.methods,s=o===void 0?{}:o,u=e.aliases,f=u===void 0?{}:u,l=e.init,c=l===void 0?function(){}:l,h=e.update,d=h===void 0?function(){}:h,g=Object.keys(a).map(function(y){return new Vu(y,a[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Object.assign({},r instanceof Function?r(y):r,{initialised:!1}),x={};function p(_){return C(_,y),A(),p}var C=function(v,w){c.call(p,v,m,w),m.initialised=!0},A=Ru(function(){m.initialised&&(d.call(p,m,x),x={})},1);return g.forEach(function(_){p[_.name]=v(_);function v(w){var b=w.name,M=w.triggerUpdate,T=M===void 0?!1:M,P=w.onChange,R=P===void 0?function(k,E){}:P,I=w.defaultVal,L=I===void 0?null:I;return function(k){var E=m[b];if(!arguments.length)return E;var S=k===void 0?L:k;return m[b]=S,R.call(p,S,m,E),!x.hasOwnProperty(b)&&(x[b]=E),T&&A(),p}}}),Object.keys(s).forEach(function(_){p[_]=function(){for(var v,w=arguments.length,b=new Array(w),M=0;M<w;M++)b[M]=arguments[M];return(v=s[_]).call.apply(v,[p,m].concat(b))}}),Object.entries(f).forEach(function(_){var v=Fu(_,2),w=v[0],b=v[1];return p[w]=p[b]}),p.resetProps=function(){return g.forEach(function(_){p[_.name](_.defaultVal)}),p},p.resetProps(),m._rerender=A,p}}var H=function(e){return e instanceof Function?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function Ie(e){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ie(e)}var Gu=/^\s+/,Bu=/\s+$/;function N(e,n){if(e=e||"",n=n||{},e instanceof N)return e;if(!(this instanceof N))return new N(e,n);var r=Xu(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}N.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,a,o,s,u;return r=n.r/255,i=n.g/255,a=n.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),a<=.03928?u=a/12.92:u=Math.pow((a+.055)/1.055,2.4),.2126*o+.7152*s+.0722*u},setAlpha:function(n){return this._a=oi(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=or(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=or(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),a=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+a+"%)":"hsva("+r+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var n=ar(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=ar(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),a=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+a+"%)":"hsla("+r+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(n){return sr(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return Zu(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(G(this._r,255)*100)+"%",g:Math.round(G(this._g,255)*100)+"%",b:Math.round(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(G(this._r,255)*100)+"%, "+Math.round(G(this._g,255)*100)+"%, "+Math.round(G(this._b,255)*100)+"%)":"rgba("+Math.round(G(this._r,255)*100)+"%, "+Math.round(G(this._g,255)*100)+"%, "+Math.round(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:lf[sr(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+ur(this._r,this._g,this._b,this._a),i=r,a=this._gradientType?"GradientType = 1, ":"";if(n){var o=N(n);i="#"+ur(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,a=this._a<1&&this._a>=0,o=!r&&a&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return o?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return N(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ef,arguments)},brighten:function(){return this._applyModification(nf,arguments)},darken:function(){return this._applyModification(rf,arguments)},desaturate:function(){return this._applyModification(Qu,arguments)},saturate:function(){return this._applyModification(Ju,arguments)},greyscale:function(){return this._applyModification(tf,arguments)},spin:function(){return this._applyModification(af,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(uf,arguments)},complement:function(){return this._applyCombination(of,arguments)},monochromatic:function(){return this._applyCombination(ff,arguments)},splitcomplement:function(){return this._applyCombination(sf,arguments)},triad:function(){return this._applyCombination(fr,[3])},tetrad:function(){return this._applyCombination(fr,[4])}};N.fromRatio=function(e,n){if(Ie(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=te(e[i]));e=r}return N(e,n)};function Xu(e){var n={r:0,g:0,b:0},r=1,i=null,a=null,o=null,s=!1,u=!1;return typeof e=="string"&&(e=gf(e)),Ie(e)=="object"&&(_t(e.r)&&_t(e.g)&&_t(e.b)?(n=Wu(e.r,e.g,e.b),s=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):_t(e.h)&&_t(e.s)&&_t(e.v)?(i=te(e.s),a=te(e.v),n=Yu(e.h,i,a),s=!0,u="hsv"):_t(e.h)&&_t(e.s)&&_t(e.l)&&(i=te(e.s),o=te(e.l),n=Ku(e.h,i,o),s=!0,u="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=oi(r),{ok:s,format:e.format||u,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Wu(e,n,r){return{r:G(e,255)*255,g:G(n,255)*255,b:G(r,255)*255}}function ar(e,n,r){e=G(e,255),n=G(n,255),r=G(r,255);var i=Math.max(e,n,r),a=Math.min(e,n,r),o,s,u=(i+a)/2;if(i==a)o=s=0;else{var f=i-a;switch(s=u>.5?f/(2-i-a):f/(i+a),i){case e:o=(n-r)/f+(n<r?6:0);break;case n:o=(r-e)/f+2;break;case r:o=(e-n)/f+4;break}o/=6}return{h:o,s,l:u}}function Ku(e,n,r){var i,a,o;e=G(e,360),n=G(n,100),r=G(r,100);function s(l,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(c-l)*6*h:h<1/2?c:h<2/3?l+(c-l)*(2/3-h)*6:l}if(n===0)i=a=o=r;else{var u=r<.5?r*(1+n):r+n-r*n,f=2*r-u;i=s(f,u,e+1/3),a=s(f,u,e),o=s(f,u,e-1/3)}return{r:i*255,g:a*255,b:o*255}}function or(e,n,r){e=G(e,255),n=G(n,255),r=G(r,255);var i=Math.max(e,n,r),a=Math.min(e,n,r),o,s,u=i,f=i-a;if(s=i===0?0:f/i,i==a)o=0;else{switch(i){case e:o=(n-r)/f+(n<r?6:0);break;case n:o=(r-e)/f+2;break;case r:o=(e-n)/f+4;break}o/=6}return{h:o,s,v:u}}function Yu(e,n,r){e=G(e,360)*6,n=G(n,100),r=G(r,100);var i=Math.floor(e),a=e-i,o=r*(1-n),s=r*(1-a*n),u=r*(1-(1-a)*n),f=i%6,l=[r,s,o,o,u,r][f],c=[u,r,r,s,o,o][f],h=[o,o,u,r,r,s][f];return{r:l*255,g:c*255,b:h*255}}function sr(e,n,r,i){var a=[ft(Math.round(e).toString(16)),ft(Math.round(n).toString(16)),ft(Math.round(r).toString(16))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Zu(e,n,r,i,a){var o=[ft(Math.round(e).toString(16)),ft(Math.round(n).toString(16)),ft(Math.round(r).toString(16)),ft(si(i))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function ur(e,n,r,i){var a=[ft(si(i)),ft(Math.round(e).toString(16)),ft(Math.round(n).toString(16)),ft(Math.round(r).toString(16))];return a.join("")}N.equals=function(e,n){return!e||!n?!1:N(e).toRgbString()==N(n).toRgbString()};N.random=function(){return N.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Qu(e,n){n=n===0?0:n||10;var r=N(e).toHsl();return r.s-=n/100,r.s=Ue(r.s),N(r)}function Ju(e,n){n=n===0?0:n||10;var r=N(e).toHsl();return r.s+=n/100,r.s=Ue(r.s),N(r)}function tf(e){return N(e).desaturate(100)}function ef(e,n){n=n===0?0:n||10;var r=N(e).toHsl();return r.l+=n/100,r.l=Ue(r.l),N(r)}function nf(e,n){n=n===0?0:n||10;var r=N(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),N(r)}function rf(e,n){n=n===0?0:n||10;var r=N(e).toHsl();return r.l-=n/100,r.l=Ue(r.l),N(r)}function af(e,n){var r=N(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,N(r)}function of(e){var n=N(e).toHsl();return n.h=(n.h+180)%360,N(n)}function fr(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=N(e).toHsl(),i=[N(e)],a=360/n,o=1;o<n;o++)i.push(N({h:(r.h+o*a)%360,s:r.s,l:r.l}));return i}function sf(e){var n=N(e).toHsl(),r=n.h;return[N(e),N({h:(r+72)%360,s:n.s,l:n.l}),N({h:(r+216)%360,s:n.s,l:n.l})]}function uf(e,n,r){n=n||6,r=r||30;var i=N(e).toHsl(),a=360/r,o=[N(e)];for(i.h=(i.h-(a*n>>1)+720)%360;--n;)i.h=(i.h+a)%360,o.push(N(i));return o}function ff(e,n){n=n||6;for(var r=N(e).toHsv(),i=r.h,a=r.s,o=r.v,s=[],u=1/n;n--;)s.push(N({h:i,s:a,v:o})),o=(o+u)%1;return s}N.mix=function(e,n,r){r=r===0?0:r||50;var i=N(e).toRgb(),a=N(n).toRgb(),o=r/100,s={r:(a.r-i.r)*o+i.r,g:(a.g-i.g)*o+i.g,b:(a.b-i.b)*o+i.b,a:(a.a-i.a)*o+i.a};return N(s)};N.readability=function(e,n){var r=N(e),i=N(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};N.isReadable=function(e,n,r){var i=N.readability(e,n),a,o;switch(o=!1,a=pf(r),a.level+a.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};N.mostReadable=function(e,n,r){var i=null,a=0,o,s,u,f;r=r||{},s=r.includeFallbackColors,u=r.level,f=r.size;for(var l=0;l<n.length;l++)o=N.readability(e,n[l]),o>a&&(a=o,i=N(n[l]));return N.isReadable(e,i,{level:u,size:f})||!s?i:(r.includeFallbackColors=!1,N.mostReadable(e,["#fff","#000"],r))};var sn=N.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},lf=N.hexNames=cf(sn);function cf(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function oi(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function G(e,n){hf(e)&&(e="100%");var r=df(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ue(e){return Math.min(1,Math.max(0,e))}function tt(e){return parseInt(e,16)}function hf(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function df(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ft(e){return e.length==1?"0"+e:""+e}function te(e){return e<=1&&(e=e*100+"%"),e}function si(e){return Math.round(parseFloat(e)*255).toString(16)}function lr(e){return tt(e)/255}var ot=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function _t(e){return!!ot.CSS_UNIT.exec(e)}function gf(e){e=e.replace(Gu,"").replace(Bu,"").toLowerCase();var n=!1;if(sn[e])e=sn[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ot.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=ot.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ot.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=ot.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ot.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=ot.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ot.hex8.exec(e))?{r:tt(r[1]),g:tt(r[2]),b:tt(r[3]),a:lr(r[4]),format:n?"name":"hex8"}:(r=ot.hex6.exec(e))?{r:tt(r[1]),g:tt(r[2]),b:tt(r[3]),format:n?"name":"hex"}:(r=ot.hex4.exec(e))?{r:tt(r[1]+""+r[1]),g:tt(r[2]+""+r[2]),b:tt(r[3]+""+r[3]),a:lr(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=ot.hex3.exec(e))?{r:tt(r[1]+""+r[1]),g:tt(r[2]+""+r[2]),b:tt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function pf(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function yf(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cr(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Af(i.key),i)}}function vf(e,n,r){return n&&cr(e.prototype,n),r&&cr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _f(e){return mf(e)||xf(e)||wf(e)||bf()}function mf(e){if(Array.isArray(e))return un(e)}function xf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wf(e,n){if(e){if(typeof e=="string")return un(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return un(e,n)}}function un(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function bf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kf(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Af(e){var n=kf(e,"string");return typeof n=="symbol"?n:String(n)}var Cf=123,Mf=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},ui=function(n,r,i){return(n<<16)+(r<<8)+i},Sf=function(n){var r=N(n).toRgb(),i=r.r,a=r.g,o=r.b;return ui(i,a,o)},hr=function(n,r){return n*Cf%Math.pow(2,r)},zf=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;yf(this,e),this.csBits=n,this.registry=["__reserved for background__"]}return vf(e,[{key:"register",value:function(r){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,a=hr(i,this.csBits),o=Mf(i+(a<<24-this.csBits));return this.registry.push(r),o}},{key:"lookup",value:function(r){var i=typeof r=="string"?Sf(r):ui.apply(void 0,_f(r));if(!i)return null;var a=i&Math.pow(2,24-this.csBits)-1,o=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return hr(a,this.csBits)!==o||a>=this.registry.length?null:this.registry[a]}}]),e}();function Ef(e,n,r){var i,a=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function o(){var s,u=i.length,f,l=0,c=0,h=0;for(s=0;s<u;++s)f=i[s],l+=f.x||0,c+=f.y||0,h+=f.z||0;for(l=(l/u-e)*a,c=(c/u-n)*a,h=(h/u-r)*a,s=0;s<u;++s)f=i[s],l&&(f.x-=l),c&&(f.y-=c),h&&(f.z-=h)}return o.initialize=function(s){i=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(n=+s,o):n},o.z=function(s){return arguments.length?(r=+s,o):r},o.strength=function(s){return arguments.length?(a=+s,o):a},o}function Pf(e){const n=+this._x.call(null,e);return fi(this.cover(n),n,e)}function fi(e,n,r){if(isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,u=e._x1,f,l,c,h,d;if(!a)return e._root=o,e;for(;a.length;)if((c=n>=(f=(s+u)/2))?s=f:u=f,i=a,!(a=a[h=+c]))return i[h]=o,e;if(l=+e._x.call(null,a.data),n===l)return o.next=a,i?i[h]=o:e._root=o,e;do i=i?i[h]=new Array(2):e._root=new Array(2),(c=n>=(f=(s+u)/2))?s=f:u=f;while((h=+c)==(d=+(l>=f)));return i[d]=a,i[h]=o,e}function Tf(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,a=-1/0;for(let o=0,s;o<n;++o)isNaN(s=+this._x.call(null,e[o]))||(r[o]=s,s<i&&(i=s),s>a&&(a=s));if(i>a)return this;this.cover(i).cover(a);for(let o=0;o<n;++o)fi(this,r[o],e[o]);return this}function Of(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,a=this._root,o,s;n>e||e>=r;)switch(s=+(e<n),o=new Array(2),o[s]=a,a=o,i*=2,s){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._x1=r,this}function Nf(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Rf(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ct(e,n,r){this.node=e,this.x0=n,this.x1=r}function If(e,n){var r,i=this._x0,a,o,s=this._x1,u=[],f=this._root,l,c;for(f&&u.push(new Ct(f,i,s)),n==null?n=1/0:(i=e-n,s=e+n);l=u.pop();)if(!(!(f=l.node)||(a=l.x0)>s||(o=l.x1)<i))if(f.length){var h=(a+o)/2;u.push(new Ct(f[1],h,o),new Ct(f[0],a,h)),(c=+(e>=h))&&(l=u[u.length-1],u[u.length-1]=u[u.length-1-c],u[u.length-1-c]=l)}else{var d=Math.abs(e-+this._x.call(null,f.data));d<n&&(n=d,i=e-d,s=e+d,r=f.data)}return r}function $f(e){if(isNaN(f=+this._x.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._x1,f,l,c,h,d;if(!r)return this;if(r.length)for(;;){if((c=f>=(l=(s+u)/2))?s=l:u=l,n=r,!(r=r[h=+c]))return this;if(!r.length)break;n[h+1&1]&&(i=n,d=h)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[h]=o:delete n[h],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=o,this)}function Df(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Ff(){return this._root}function Lf(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Uf(e){var n=[],r,i=this._root,a,o,s;for(i&&n.push(new Ct(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.x1)&&i.length){var u=(o+s)/2;(a=i[1])&&n.push(new Ct(a,u,s)),(a=i[0])&&n.push(new Ct(a,o,u))}return this}function jf(e){var n=[],r=[],i;for(this._root&&n.push(new Ct(this._root,this._x0,this._x1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.x1,f=(s+u)/2;(o=a[0])&&n.push(new Ct(o,s,f)),(o=a[1])&&n.push(new Ct(o,f,u))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function qf(e){return e[0]}function Hf(e){return arguments.length?(this._x=e,this):this._x}function li(e,n){var r=new bn(n??qf,NaN,NaN);return e==null?r:r.addAll(e)}function bn(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function dr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var J=li.prototype=bn.prototype;J.copy=function(){var e=new bn(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=dr(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var a=0;a<2;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(2)}):n.target[a]=dr(i));return e};J.add=Pf;J.addAll=Tf;J.cover=Of;J.data=Nf;J.extent=Rf;J.find=If;J.remove=$f;J.removeAll=Df;J.root=Ff;J.size=Lf;J.visit=Uf;J.visitAfter=jf;J.x=Hf;function Vf(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return ci(this.cover(n,r),n,r,e)}function ci(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var a,o=e._root,s={data:i},u=e._x0,f=e._y0,l=e._x1,c=e._y1,h,d,g,y,m,x,p,C;if(!o)return e._root=s,e;for(;o.length;)if((m=n>=(h=(u+l)/2))?u=h:l=h,(x=r>=(d=(f+c)/2))?f=d:c=d,a=o,!(o=o[p=x<<1|m]))return a[p]=s,e;if(g=+e._x.call(null,o.data),y=+e._y.call(null,o.data),n===g&&r===y)return s.next=o,a?a[p]=s:e._root=s,e;do a=a?a[p]=new Array(4):e._root=new Array(4),(m=n>=(h=(u+l)/2))?u=h:l=h,(x=r>=(d=(f+c)/2))?f=d:c=d;while((p=x<<1|m)===(C=(y>=d)<<1|g>=h));return a[C]=o,a[p]=s,e}function Gf(e){var n,r,i=e.length,a,o,s=new Array(i),u=new Array(i),f=1/0,l=1/0,c=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(a=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(s[r]=a,u[r]=o,a<f&&(f=a),a>c&&(c=a),o<l&&(l=o),o>h&&(h=o));if(f>c||l>h)return this;for(this.cover(f,l).cover(c,h),r=0;r<i;++r)ci(this,s[r],u[r],e[r]);return this}function Bf(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._x1,o=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,o=(i=Math.floor(n))+1;else{for(var s=a-r||1,u=this._root,f,l;r>e||e>=a||i>n||n>=o;)switch(l=(n<i)<<1|e<r,f=new Array(4),f[l]=u,u=f,s*=2,l){case 0:a=r+s,o=i+s;break;case 1:r=a-s,o=i+s;break;case 2:a=r+s,i=o-s;break;case 3:r=a-s,i=o-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=a,this._y1=o,this}function Xf(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Wf(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Y(e,n,r,i,a){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=a}function Kf(e,n,r){var i,a=this._x0,o=this._y0,s,u,f,l,c=this._x1,h=this._y1,d=[],g=this._root,y,m;for(g&&d.push(new Y(g,a,o,c,h)),r==null?r=1/0:(a=e-r,o=n-r,c=e+r,h=n+r,r*=r);y=d.pop();)if(!(!(g=y.node)||(s=y.x0)>c||(u=y.y0)>h||(f=y.x1)<a||(l=y.y1)<o))if(g.length){var x=(s+f)/2,p=(u+l)/2;d.push(new Y(g[3],x,p,f,l),new Y(g[2],s,p,x,l),new Y(g[1],x,u,f,p),new Y(g[0],s,u,x,p)),(m=(n>=p)<<1|e>=x)&&(y=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=y)}else{var C=e-+this._x.call(null,g.data),A=n-+this._y.call(null,g.data),_=C*C+A*A;if(_<r){var v=Math.sqrt(r=_);a=e-v,o=n-v,c=e+v,h=n+v,i=g.data}}return i}function Yf(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._y0,f=this._x1,l=this._y1,c,h,d,g,y,m,x,p;if(!r)return this;if(r.length)for(;;){if((y=c>=(d=(s+f)/2))?s=d:f=d,(m=h>=(g=(u+l)/2))?u=g:l=g,n=r,!(r=r[x=m<<1|y]))return this;if(!r.length)break;(n[x+1&3]||n[x+2&3]||n[x+3&3])&&(i=n,p=x)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[x]=o:delete n[x],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[p]=r:this._root=r),this):(this._root=o,this)}function Zf(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Qf(){return this._root}function Jf(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function tl(e){var n=[],r,i=this._root,a,o,s,u,f;for(i&&n.push(new Y(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,u=r.x1,f=r.y1)&&i.length){var l=(o+u)/2,c=(s+f)/2;(a=i[3])&&n.push(new Y(a,l,c,u,f)),(a=i[2])&&n.push(new Y(a,o,c,l,f)),(a=i[1])&&n.push(new Y(a,l,s,u,c)),(a=i[0])&&n.push(new Y(a,o,s,l,c))}return this}function el(e){var n=[],r=[],i;for(this._root&&n.push(new Y(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,f=i.x1,l=i.y1,c=(s+f)/2,h=(u+l)/2;(o=a[0])&&n.push(new Y(o,s,u,c,h)),(o=a[1])&&n.push(new Y(o,c,u,f,h)),(o=a[2])&&n.push(new Y(o,s,h,c,l)),(o=a[3])&&n.push(new Y(o,c,h,f,l))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function nl(e){return e[0]}function rl(e){return arguments.length?(this._x=e,this):this._x}function il(e){return e[1]}function al(e){return arguments.length?(this._y=e,this):this._y}function hi(e,n,r){var i=new kn(n??nl,r??il,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function kn(e,n,r,i,a,o){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=a,this._y1=o,this._root=void 0}function gr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Z=hi.prototype=kn.prototype;Z.copy=function(){var e=new kn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=gr(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var a=0;a<4;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(4)}):n.target[a]=gr(i));return e};Z.add=Vf;Z.addAll=Gf;Z.cover=Bf;Z.data=Xf;Z.extent=Wf;Z.find=Kf;Z.remove=Yf;Z.removeAll=Zf;Z.root=Qf;Z.size=Jf;Z.visit=tl;Z.visitAfter=el;Z.x=rl;Z.y=al;function ol(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return di(this.cover(n,r,i),n,r,i,e)}function di(e,n,r,i,a){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var o,s=e._root,u={data:a},f=e._x0,l=e._y0,c=e._z0,h=e._x1,d=e._y1,g=e._z1,y,m,x,p,C,A,_,v,w,b,M;if(!s)return e._root=u,e;for(;s.length;)if((_=n>=(y=(f+h)/2))?f=y:h=y,(v=r>=(m=(l+d)/2))?l=m:d=m,(w=i>=(x=(c+g)/2))?c=x:g=x,o=s,!(s=s[b=w<<2|v<<1|_]))return o[b]=u,e;if(p=+e._x.call(null,s.data),C=+e._y.call(null,s.data),A=+e._z.call(null,s.data),n===p&&r===C&&i===A)return u.next=s,o?o[b]=u:e._root=u,e;do o=o?o[b]=new Array(8):e._root=new Array(8),(_=n>=(y=(f+h)/2))?f=y:h=y,(v=r>=(m=(l+d)/2))?l=m:d=m,(w=i>=(x=(c+g)/2))?c=x:g=x;while((b=w<<2|v<<1|_)===(M=(A>=x)<<2|(C>=m)<<1|p>=y));return o[M]=s,o[b]=u,e}function sl(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),a=new Float64Array(n);let o=1/0,s=1/0,u=1/0,f=-1/0,l=-1/0,c=-1/0;for(let h=0,d,g,y,m;h<n;++h)isNaN(g=+this._x.call(null,d=e[h]))||isNaN(y=+this._y.call(null,d))||isNaN(m=+this._z.call(null,d))||(r[h]=g,i[h]=y,a[h]=m,g<o&&(o=g),g>f&&(f=g),y<s&&(s=y),y>l&&(l=y),m<u&&(u=m),m>c&&(c=m));if(o>f||s>l||u>c)return this;this.cover(o,s,u).cover(f,l,c);for(let h=0;h<n;++h)di(this,r[h],i[h],a[h],e[h]);return this}function ul(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,a=this._y0,o=this._z0,s=this._x1,u=this._y1,f=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,u=(a=Math.floor(n))+1,f=(o=Math.floor(r))+1;else{for(var l=s-i||1,c=this._root,h,d;i>e||e>=s||a>n||n>=u||o>r||r>=f;)switch(d=(r<o)<<2|(n<a)<<1|e<i,h=new Array(8),h[d]=c,c=h,l*=2,d){case 0:s=i+l,u=a+l,f=o+l;break;case 1:i=s-l,u=a+l,f=o+l;break;case 2:s=i+l,a=u-l,f=o+l;break;case 3:i=s-l,a=u-l,f=o+l;break;case 4:s=i+l,u=a+l,o=f-l;break;case 5:i=s-l,u=a+l,o=f-l;break;case 6:s=i+l,a=u-l,o=f-l;break;case 7:i=s-l,a=u-l,o=f-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=f,this}function fl(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function ll(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function j(e,n,r,i,a,o,s){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=a,this.y1=o,this.z1=s}function cl(e,n,r,i){var a,o=this._x0,s=this._y0,u=this._z0,f,l,c,h,d,g,y=this._x1,m=this._y1,x=this._z1,p=[],C=this._root,A,_;for(C&&p.push(new j(C,o,s,u,y,m,x)),i==null?i=1/0:(o=e-i,s=n-i,u=r-i,y=e+i,m=n+i,x=r+i,i*=i);A=p.pop();)if(!(!(C=A.node)||(f=A.x0)>y||(l=A.y0)>m||(c=A.z0)>x||(h=A.x1)<o||(d=A.y1)<s||(g=A.z1)<u))if(C.length){var v=(f+h)/2,w=(l+d)/2,b=(c+g)/2;p.push(new j(C[7],v,w,b,h,d,g),new j(C[6],f,w,b,v,d,g),new j(C[5],v,l,b,h,w,g),new j(C[4],f,l,b,v,w,g),new j(C[3],v,w,c,h,d,b),new j(C[2],f,w,c,v,d,b),new j(C[1],v,l,c,h,w,b),new j(C[0],f,l,c,v,w,b)),(_=(r>=b)<<2|(n>=w)<<1|e>=v)&&(A=p[p.length-1],p[p.length-1]=p[p.length-1-_],p[p.length-1-_]=A)}else{var M=e-+this._x.call(null,C.data),T=n-+this._y.call(null,C.data),P=r-+this._z.call(null,C.data),R=M*M+T*T+P*P;if(R<i){var I=Math.sqrt(i=R);o=e-I,s=n-I,u=r-I,y=e+I,m=n+I,x=r+I,a=C.data}}return a}function hl(e){if(isNaN(d=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e))||isNaN(y=+this._z.call(null,e)))return this;var n,r=this._root,i,a,o,s=this._x0,u=this._y0,f=this._z0,l=this._x1,c=this._y1,h=this._z1,d,g,y,m,x,p,C,A,_,v,w;if(!r)return this;if(r.length)for(;;){if((C=d>=(m=(s+l)/2))?s=m:l=m,(A=g>=(x=(u+c)/2))?u=x:c=x,(_=y>=(p=(f+h)/2))?f=p:h=p,n=r,!(r=r[v=_<<2|A<<1|C]))return this;if(!r.length)break;(n[v+1&7]||n[v+2&7]||n[v+3&7]||n[v+4&7]||n[v+5&7]||n[v+6&7]||n[v+7&7])&&(i=n,w=v)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[v]=o:delete n[v],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[w]=r:this._root=r),this):(this._root=o,this)}function dl(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function gl(){return this._root}function pl(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function yl(e){var n=[],r,i=this._root,a,o,s,u,f,l,c;for(i&&n.push(new j(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,o=r.x0,s=r.y0,u=r.z0,f=r.x1,l=r.y1,c=r.z1)&&i.length){var h=(o+f)/2,d=(s+l)/2,g=(u+c)/2;(a=i[7])&&n.push(new j(a,h,d,g,f,l,c)),(a=i[6])&&n.push(new j(a,o,d,g,h,l,c)),(a=i[5])&&n.push(new j(a,h,s,g,f,d,c)),(a=i[4])&&n.push(new j(a,o,s,g,h,d,c)),(a=i[3])&&n.push(new j(a,h,d,u,f,l,g)),(a=i[2])&&n.push(new j(a,o,d,u,h,l,g)),(a=i[1])&&n.push(new j(a,h,s,u,f,d,g)),(a=i[0])&&n.push(new j(a,o,s,u,h,d,g))}return this}function vl(e){var n=[],r=[],i;for(this._root&&n.push(new j(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var a=i.node;if(a.length){var o,s=i.x0,u=i.y0,f=i.z0,l=i.x1,c=i.y1,h=i.z1,d=(s+l)/2,g=(u+c)/2,y=(f+h)/2;(o=a[0])&&n.push(new j(o,s,u,f,d,g,y)),(o=a[1])&&n.push(new j(o,d,u,f,l,g,y)),(o=a[2])&&n.push(new j(o,s,g,f,d,c,y)),(o=a[3])&&n.push(new j(o,d,g,f,l,c,y)),(o=a[4])&&n.push(new j(o,s,u,y,d,g,h)),(o=a[5])&&n.push(new j(o,d,u,y,l,g,h)),(o=a[6])&&n.push(new j(o,s,g,y,d,c,h)),(o=a[7])&&n.push(new j(o,d,g,y,l,c,h))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function _l(e){return e[0]}function ml(e){return arguments.length?(this._x=e,this):this._x}function xl(e){return e[1]}function wl(e){return arguments.length?(this._y=e,this):this._y}function bl(e){return e[2]}function kl(e){return arguments.length?(this._z=e,this):this._z}function gi(e,n,r,i){var a=new An(n??_l,r??xl,i??bl,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function An(e,n,r,i,a,o,s,u,f){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=a,this._z0=o,this._x1=s,this._y1=u,this._z1=f,this._root=void 0}function pr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var K=gi.prototype=An.prototype;K.copy=function(){var e=new An(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=pr(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var a=0;a<8;++a)(i=n.source[a])&&(i.length?r.push({source:i,target:n.target[a]=new Array(8)}):n.target[a]=pr(i));return e};K.add=ol;K.addAll=sl;K.cover=ul;K.data=fl;K.extent=ll;K.find=cl;K.remove=hl;K.removeAll=dl;K.root=gl;K.size=pl;K.visit=yl;K.visitAfter=vl;K.x=ml;K.y=wl;K.z=kl;function At(e){return function(){return e}}function bt(e){return(e()-.5)*1e-6}function Al(e){return e.index}function yr(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Cl(e){var n=Al,r=d,i,a=At(30),o,s,u,f,l,c,h=1;e==null&&(e=[]);function d(p){return 1/Math.min(f[p.source.index],f[p.target.index])}function g(p){for(var C=0,A=e.length;C<h;++C)for(var _=0,v,w,b,M=0,T=0,P=0,R,I;_<A;++_)v=e[_],w=v.source,b=v.target,M=b.x+b.vx-w.x-w.vx||bt(c),u>1&&(T=b.y+b.vy-w.y-w.vy||bt(c)),u>2&&(P=b.z+b.vz-w.z-w.vz||bt(c)),R=Math.sqrt(M*M+T*T+P*P),R=(R-o[_])/R*p*i[_],M*=R,T*=R,P*=R,b.vx-=M*(I=l[_]),u>1&&(b.vy-=T*I),u>2&&(b.vz-=P*I),w.vx+=M*(I=1-I),u>1&&(w.vy+=T*I),u>2&&(w.vz+=P*I)}function y(){if(s){var p,C=s.length,A=e.length,_=new Map(s.map((w,b)=>[n(w,b,s),w])),v;for(p=0,f=new Array(C);p<A;++p)v=e[p],v.index=p,typeof v.source!="object"&&(v.source=yr(_,v.source)),typeof v.target!="object"&&(v.target=yr(_,v.target)),f[v.source.index]=(f[v.source.index]||0)+1,f[v.target.index]=(f[v.target.index]||0)+1;for(p=0,l=new Array(A);p<A;++p)v=e[p],l[p]=f[v.source.index]/(f[v.source.index]+f[v.target.index]);i=new Array(A),m(),o=new Array(A),x()}}function m(){if(s)for(var p=0,C=e.length;p<C;++p)i[p]=+r(e[p],p,e)}function x(){if(s)for(var p=0,C=e.length;p<C;++p)o[p]=+a(e[p],p,e)}return g.initialize=function(p,...C){s=p,c=C.find(A=>typeof A=="function")||Math.random,u=C.find(A=>[1,2,3].includes(A))||2,y()},g.links=function(p){return arguments.length?(e=p,y(),g):e},g.id=function(p){return arguments.length?(n=p,g):n},g.iterations=function(p){return arguments.length?(h=+p,g):h},g.strength=function(p){return arguments.length?(r=typeof p=="function"?p:At(+p),m(),g):r},g.distance=function(p){return arguments.length?(a=typeof p=="function"?p:At(+p),x(),g):a},g}const Ml=1664525,Sl=1013904223,vr=4294967296;function zl(){let e=1;return()=>(e=(Ml*e+Sl)%vr)/vr}var _r=3;function Xe(e){return e.x}function mr(e){return e.y}function El(e){return e.z}var Pl=10,Tl=Math.PI*(3-Math.sqrt(5)),Ol=Math.PI*20/(9+Math.sqrt(221));function Nl(e,n){n=n||2;var r=Math.min(_r,Math.max(1,Math.round(n))),i,a=1,o=.001,s=1-Math.pow(o,1/300),u=0,f=.6,l=new Map,c=vn(g),h=he("tick","end"),d=zl();e==null&&(e=[]);function g(){y(),h.call("tick",i),a<o&&(c.stop(),h.call("end",i))}function y(p){var C,A=e.length,_;p===void 0&&(p=1);for(var v=0;v<p;++v)for(a+=(u-a)*s,l.forEach(function(w){w(a)}),C=0;C<A;++C)_=e[C],_.fx==null?_.x+=_.vx*=f:(_.x=_.fx,_.vx=0),r>1&&(_.fy==null?_.y+=_.vy*=f:(_.y=_.fy,_.vy=0)),r>2&&(_.fz==null?_.z+=_.vz*=f:(_.z=_.fz,_.vz=0));return i}function m(){for(var p=0,C=e.length,A;p<C;++p){if(A=e[p],A.index=p,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),A.fz!=null&&(A.z=A.fz),isNaN(A.x)||r>1&&isNaN(A.y)||r>2&&isNaN(A.z)){var _=Pl*(r>2?Math.cbrt(.5+p):r>1?Math.sqrt(.5+p):p),v=p*Tl,w=p*Ol;r===1?A.x=_:r===2?(A.x=_*Math.cos(v),A.y=_*Math.sin(v)):(A.x=_*Math.sin(v)*Math.cos(w),A.y=_*Math.cos(v),A.z=_*Math.sin(v)*Math.sin(w))}(isNaN(A.vx)||r>1&&isNaN(A.vy)||r>2&&isNaN(A.vz))&&(A.vx=0,r>1&&(A.vy=0),r>2&&(A.vz=0))}}function x(p){return p.initialize&&p.initialize(e,d,r),p}return m(),i={tick:y,restart:function(){return c.restart(g),i},stop:function(){return c.stop(),i},numDimensions:function(p){return arguments.length?(r=Math.min(_r,Math.max(1,Math.round(p))),l.forEach(x),i):r},nodes:function(p){return arguments.length?(e=p,m(),l.forEach(x),i):e},alpha:function(p){return arguments.length?(a=+p,i):a},alphaMin:function(p){return arguments.length?(o=+p,i):o},alphaDecay:function(p){return arguments.length?(s=+p,i):+s},alphaTarget:function(p){return arguments.length?(u=+p,i):u},velocityDecay:function(p){return arguments.length?(f=1-p,i):1-f},randomSource:function(p){return arguments.length?(d=p,l.forEach(x),i):d},force:function(p,C){return arguments.length>1?(C==null?l.delete(p):l.set(p,x(C)),i):l.get(p)},find:function(){var p=Array.prototype.slice.call(arguments),C=p.shift()||0,A=(r>1?p.shift():null)||0,_=(r>2?p.shift():null)||0,v=p.shift()||1/0,w=0,b=e.length,M,T,P,R,I,L;for(v*=v,w=0;w<b;++w)I=e[w],M=C-I.x,T=A-(I.y||0),P=_-(I.z||0),R=M*M+T*T+P*P,R<v&&(L=I,v=R);return L},on:function(p,C){return arguments.length>1?(h.on(p,C),i):h.on(p)}}}function Rl(){var e,n,r,i,a,o=At(-30),s,u=1,f=1/0,l=.81;function c(y){var m,x=e.length,p=(n===1?li(e,Xe):n===2?hi(e,Xe,mr):n===3?gi(e,Xe,mr,El):null).visitAfter(d);for(a=y,m=0;m<x;++m)r=e[m],p.visit(g)}function h(){if(e){var y,m=e.length,x;for(s=new Array(m),y=0;y<m;++y)x=e[y],s[x.index]=+o(x,y,e)}}function d(y){var m=0,x,p,C=0,A,_,v,w,b=y.length;if(b){for(A=_=v=w=0;w<b;++w)(x=y[w])&&(p=Math.abs(x.value))&&(m+=x.value,C+=p,A+=p*(x.x||0),_+=p*(x.y||0),v+=p*(x.z||0));m*=Math.sqrt(4/b),y.x=A/C,n>1&&(y.y=_/C),n>2&&(y.z=v/C)}else{x=y,x.x=x.data.x,n>1&&(x.y=x.data.y),n>2&&(x.z=x.data.z);do m+=s[x.data.index];while(x=x.next)}y.value=m}function g(y,m,x,p,C){if(!y.value)return!0;var A=[x,p,C][n-1],_=y.x-r.x,v=n>1?y.y-r.y:0,w=n>2?y.z-r.z:0,b=A-m,M=_*_+v*v+w*w;if(b*b/l<M)return M<f&&(_===0&&(_=bt(i),M+=_*_),n>1&&v===0&&(v=bt(i),M+=v*v),n>2&&w===0&&(w=bt(i),M+=w*w),M<u&&(M=Math.sqrt(u*M)),r.vx+=_*y.value*a/M,n>1&&(r.vy+=v*y.value*a/M),n>2&&(r.vz+=w*y.value*a/M)),!0;if(y.length||M>=f)return;(y.data!==r||y.next)&&(_===0&&(_=bt(i),M+=_*_),n>1&&v===0&&(v=bt(i),M+=v*v),n>2&&w===0&&(w=bt(i),M+=w*w),M<u&&(M=Math.sqrt(u*M)));do y.data!==r&&(b=s[y.data.index]*a/M,r.vx+=_*b,n>1&&(r.vy+=v*b),n>2&&(r.vz+=w*b));while(y=y.next)}return c.initialize=function(y,...m){e=y,i=m.find(x=>typeof x=="function")||Math.random,n=m.find(x=>[1,2,3].includes(x))||2,h()},c.strength=function(y){return arguments.length?(o=typeof y=="function"?y:At(+y),h(),c):o},c.distanceMin=function(y){return arguments.length?(u=y*y,c):Math.sqrt(u)},c.distanceMax=function(y){return arguments.length?(f=y*y,c):Math.sqrt(f)},c.theta=function(y){return arguments.length?(l=y*y,c):Math.sqrt(l)},c}function Il(e,n,r,i){var a,o,s=At(.1),u,f;typeof e!="function"&&(e=At(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function l(h){for(var d=0,g=a.length;d<g;++d){var y=a[d],m=y.x-n||1e-6,x=(y.y||0)-r||1e-6,p=(y.z||0)-i||1e-6,C=Math.sqrt(m*m+x*x+p*p),A=(f[d]-C)*u[d]*h/C;y.vx+=m*A,o>1&&(y.vy+=x*A),o>2&&(y.vz+=p*A)}}function c(){if(a){var h,d=a.length;for(u=new Array(d),f=new Array(d),h=0;h<d;++h)f[h]=+e(a[h],h,a),u[h]=isNaN(f[h])?0:+s(a[h],h,a)}}return l.initialize=function(h,...d){a=h,o=d.find(g=>[1,2,3].includes(g))||2,c()},l.strength=function(h){return arguments.length?(s=typeof h=="function"?h:At(+h),c(),l):s},l.radius=function(h){return arguments.length?(e=typeof h=="function"?h:At(+h),c(),l):e},l.x=function(h){return arguments.length?(n=+h,l):n},l.y=function(h){return arguments.length?(r=+h,l):r},l.z=function(h){return arguments.length?(i=+h,l):i},l}const{abs:Bt,cos:mt,sin:It,acos:$l,atan2:Xt,sqrt:St,pow:nt}=Math;function Wt(e){return e<0?-nt(-e,1/3):nt(e,1/3)}const pi=Math.PI,ke=2*pi,zt=pi/2,Dl=1e-6,We=Number.MAX_SAFE_INTEGER||9007199254740991,Ke=Number.MIN_SAFE_INTEGER||-9007199254740991,Fl={x:0,y:0,z:0},z={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),St(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const a=1-e;let o=n;if(i===0)return n[0].t=e,n[0];if(i===1){const u={x:a*o[0].x+e*o[1].x,y:a*o[0].y+e*o[1].y,t:e};return r&&(u.z=a*o[0].z+e*o[1].z),u}if(i<4){let u=a*a,f=e*e,l,c,h,d=0;i===2?(o=[o[0],o[1],o[2],Fl],l=u,c=a*e*2,h=f):i===3&&(l=u*a,c=u*e*3,h=a*f*3,d=e*f);const g={x:l*o[0].x+c*o[1].x+h*o[2].x+d*o[3].x,y:l*o[0].y+c*o[1].y+h*o[2].y+d*o[3].y,t:e};return r&&(g.z=l*o[0].z+c*o[1].z+h*o[2].z+d*o[3].z),g}const s=JSON.parse(JSON.stringify(n));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*e,y:s[u].y+(s[u+1].y-s[u].y)*e},typeof s[u].z<"u"&&(s[u]=s[u].z+(s[u+1].z-s[u].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,n,r,i){const a=1-e,o=r,s=n;let u=o[0],f=o[1],l=o[2],c=o[3],h;if(u*=a,f*=e,s.length===2)return h=u+f,{x:(u*s[0].x+f*s[1].x)/h,y:(u*s[0].y+f*s[1].y)/h,z:i?(u*s[0].z+f*s[1].z)/h:!1,t:e};if(u*=a,f*=2*a,l*=e*e,s.length===3)return h=u+f+l,{x:(u*s[0].x+f*s[1].x+l*s[2].x)/h,y:(u*s[0].y+f*s[1].y+l*s[2].y)/h,z:i?(u*s[0].z+f*s[1].z+l*s[2].z)/h:!1,t:e};if(u*=a,f*=1.5*a,l*=3*a,c*=e*e*e,s.length===4)return h=u+f+l+c,{x:(u*s[0].x+f*s[1].x+l*s[2].x+c*s[3].x)/h,y:(u*s[0].y+f*s[1].y+l*s[2].y+c*s[3].y)/h,z:i?(u*s[0].z+f*s[1].z+l*s[2].z+c*s[3].z)/h:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,a=i.length,o=a-1;a>1;a--,o--){const s=[];for(let u=0,f;u<o;u++)f={x:o*(i[u+1].x-i[u].x),y:o*(i[u+1].y-i[u].y)},n&&(f.z=o*(i[u+1].z-i[u].z)),s.push(f);r.push(s),i=s}return r},between:function(e,n,r){return n<=e&&e<=r||z.approximately(e,n)||z.approximately(e,r)},approximately:function(e,n,r){return Bt(e-n)<=(r||Dl)},length:function(e){const r=z.Tvalues.length;let i=0;for(let a=0,o;a<r;a++)o=.5*z.Tvalues[a]+.5,i+=z.Cvalues[a]*z.arcfn(o,e);return .5*i},map:function(e,n,r,i,a){const o=r-n,s=a-i,u=e-n,f=u/o;return i+s*f},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(z.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-e.x,s=r.y-e.y,u=i*s-a*o,f=i*o+a*s;return Xt(u,f)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return St(r*r+i*i)},closest:function(e,n){let r=nt(2,63),i,a;return e.forEach(function(o,s){a=z.dist(n,o),a<r&&(r=a,i=s)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=nt(e,n)+nt(1-e,n),i=r-1;return Bt(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=nt(1-e,n),i=nt(e,n)+r;return r/i},lli8:function(e,n,r,i,a,o,s,u){const f=(e*i-n*r)*(a-s)-(e-r)*(a*u-o*s),l=(e*i-n*r)*(o-u)-(n-i)*(a*u-o*s),c=(e-r)*(o-u)-(n-i)*(a-s);return c==0?!1:{x:f/c,y:l/c}},lli4:function(e,n,r,i){const a=e.x,o=e.y,s=n.x,u=n.y,f=r.x,l=r.y,c=i.x,h=i.y;return z.lli8(a,o,s,u,f,l,c,h)},lli:function(e,n){return z.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new V(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=We,r=We,i=Ke,a=Ke;return e.forEach(function(o){const s=o.bbox();n>s.x.min&&(n=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),a<s.y.max&&(a=s.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+a)/2,max:a,size:a-r}}},shapeintersections:function(e,n,r,i,a){if(!z.bboxoverlap(n,i))return[];const o=[],s=[e.startcap,e.forward,e.back,e.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(f){f.virtual||u.forEach(function(l){if(l.virtual)return;const c=f.intersects(l,a);c.length>0&&(c.c1=f,c.c2=l,c.s1=e,c.s2=r,o.push(c))})}),o},makeshape:function(e,n,r){const i=n.points.length,a=e.points.length,o=z.makeline(n.points[i-1],e.points[0]),s=z.makeline(e.points[a-1],n.points[0]),u={startcap:o,forward:e,back:n,endcap:s,bbox:z.findbbox([o,e,n,s])};return u.intersections=function(f){return z.shapeintersections(u,u.bbox,f,f.bbox,r)},u},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=We,a=Ke,o,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,f=r.length;u<f;u++)o=r[u],s=e.get(o),s[n]<i&&(i=s[n]),s[n]>a&&(a=s[n]);return{min:i,mid:(i+a)/2,max:a,size:a-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,a=-Xt(n.p2.y-i,n.p2.x-r),o=function(s){return{x:(s.x-r)*mt(a)-(s.y-i)*It(a),y:(s.x-r)*It(a)+(s.y-i)*mt(a)}};return e.map(o)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=z.align(e,n),a=function(b){return 0<=b&&b<=1};if(r===2){const b=i[0].y,M=i[1].y,T=i[2].y,P=b-2*M+T;if(P!==0){const R=-St(M*M-b*T),I=-b+M,L=-(R+I)/P,k=-(-R+I)/P;return[L,k].filter(a)}else if(M!==T&&P===0)return[(2*M-T)/(2*M-2*T)].filter(a);return[]}const o=i[0].y,s=i[1].y,u=i[2].y,f=i[3].y;let l=-o+3*s-3*u+f,c=3*o-6*s+3*u,h=-3*o+3*s,d=o;if(z.approximately(l,0)){if(z.approximately(c,0))return z.approximately(h,0)?[]:[-d/h].filter(a);const b=St(h*h-4*c*d),M=2*c;return[(b-h)/M,(-h-b)/M].filter(a)}c/=l,h/=l,d/=l;const g=(3*h-c*c)/3,y=g/3,m=(2*c*c*c-9*c*h+27*d)/27,x=m/2,p=x*x+y*y*y;let C,A,_,v,w;if(p<0){const b=-g/3,M=b*b*b,T=St(M),P=-m/(2*T),R=P<-1?-1:P>1?1:P,I=$l(R),L=Wt(T),k=2*L;return _=k*mt(I/3)-c/3,v=k*mt((I+ke)/3)-c/3,w=k*mt((I+2*ke)/3)-c/3,[_,v,w].filter(a)}else{if(p===0)return C=x<0?Wt(-x):-Wt(x),_=2*C-c/3,v=-C-c/3,[_,v].filter(a);{const b=St(p);return C=Wt(-x+b),A=Wt(x+b),[C-A-c/3].filter(a)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],a=n-2*r+i;if(a!==0){const o=-St(r*r-n*i),s=-n+r,u=-(o+s)/a,f=-(-o+s)/a;return[u,f]}else if(r!==i&&a===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,a){let o,s,u,f,l=0,c=0;const h=z.compute(e,n),d=z.compute(e,r),g=h.x*h.x+h.y*h.y;if(i?(o=St(nt(h.y*d.z-d.y*h.z,2)+nt(h.z*d.x-d.z*h.x,2)+nt(h.x*d.y-d.x*h.y,2)),s=nt(g+h.z*h.z,3/2)):(o=h.x*d.y-h.y*d.x,s=nt(g,3/2)),o===0||s===0)return{k:0,r:0};if(l=o/s,c=s/o,!a){const y=z.curvature(e-.001,n,r,i,!0).k,m=z.curvature(e+.001,n,r,i,!0).k;f=(m-l+(l-y))/2,u=(Bt(m-l)+Bt(l-y))/2}return{k:l,r:c,dk:f,adk:u}},inflections:function(e){if(e.length<4)return[];const n=z.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,a=n[1].x*n[2].y,o=n[3].x*n[2].y,s=18*(-3*r+2*i+3*a-o),u=18*(3*r-i-3*a),f=18*(a-r);if(z.approximately(s,0)){if(!z.approximately(u,0)){let d=-f/u;if(0<=d&&d<=1)return[d]}return[]}const l=2*s;if(z.approximately(l,0))return[];const c=u*u-4*s*f;if(c<0)return[];const h=Math.sqrt(c);return[(h-u)/l,-(u+h)/l].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let a=0,o,s,u,f;a<i;a++)if(o=r[a],s=e[o].mid,u=n[o].mid,f=(e[o].size+n[o].size)/2,Bt(s-u)>=f)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),a=n.bbox(),o=1e5,s=r||.5;if(i.x.size+i.y.size<s&&a.x.size+a.y.size<s)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];let u=e.split(.5),f=n.split(.5),l=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];l=l.filter(function(h){return z.bboxoverlap(h.left.bbox(),h.right.bbox())});let c=[];return l.length===0||(l.forEach(function(h){c=c.concat(z.pairiteration(h.left,h.right,s))}),c=c.filter(function(h,d){return c.indexOf(h)===d})),c},getccenter:function(e,n,r){const i=n.x-e.x,a=n.y-e.y,o=r.x-n.x,s=r.y-n.y,u=i*mt(zt)-a*It(zt),f=i*It(zt)+a*mt(zt),l=o*mt(zt)-s*It(zt),c=o*It(zt)+s*mt(zt),h=(e.x+n.x)/2,d=(e.y+n.y)/2,g=(n.x+r.x)/2,y=(n.y+r.y)/2,m=h+u,x=d+f,p=g+l,C=y+c,A=z.lli8(h,d,m,x,g,y,p,C),_=z.dist(A,e);let v=Xt(e.y-A.y,e.x-A.x),w=Xt(n.y-A.y,n.x-A.x),b=Xt(r.y-A.y,r.x-A.x),M;return v<b?((v>w||w>b)&&(v+=ke),v>b&&(M=b,b=v,v=M)):b<w&&w<v?(M=b,b=v,v=M):b+=ke,A.s=v,A.e=b,A.r=_,A},numberSort:function(e,n){return e-n}};class ne{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return z.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)z.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new ne(r)}}const{abs:Kt,min:xr,max:wr,cos:Ll,sin:Ul,acos:jl,sqrt:Yt}=Math,ql=Math.PI;class V{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const g=[];r.forEach(function(y){["x","y","z"].forEach(function(m){typeof y[m]<"u"&&g.push(y[m])})}),r=g}let a=!1;const o=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!a&&(o===9||o===12)||n&&n[0]&&typeof n[0].z<"u",u=this.points=[];for(let g=0,y=s?3:2;g<o;g+=y){var f={x:r[g],y:r[g+1]};s&&(f.z=r[g+2]),u.push(f)}const l=this.order=u.length-1,c=this.dims=["x","y"];s&&c.push("z"),this.dimlen=c.length;const h=z.align(u,{p1:u[0],p2:u[l]}),d=z.dist(u[0],u[l]);this._linear=h.reduce((g,y)=>g+Kt(y.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,a){if(typeof a>"u"&&(a=.5),a===0)return new V(r,r,i);if(a===1)return new V(n,r,r);const o=V.getABC(2,n,r,i,a);return new V(n,o.A,i)}static cubicFromPoints(n,r,i,a,o){typeof a>"u"&&(a=.5);const s=V.getABC(3,n,r,i,a);typeof o>"u"&&(o=z.dist(r,s.C));const u=o*(1-a)/a,f=z.dist(n,i),l=(i.x-n.x)/f,c=(i.y-n.y)/f,h=o*l,d=o*c,g=u*l,y=u*c,m={x:r.x-h,y:r.y-d},x={x:r.x+g,y:r.y+y},p=s.A,C={x:p.x+(m.x-p.x)/(1-a),y:p.y+(m.y-p.y)/(1-a)},A={x:p.x+(x.x-p.x)/a,y:p.y+(x.y-p.y)/a},_={x:n.x+(C.x-n.x)/a,y:n.y+(C.y-n.y)/a},v={x:i.x+(A.x-i.x)/(1-a),y:i.y+(A.y-i.y)/(1-a)};return new V(n,_,v,i)}static getUtils(){return z}getUtils(){return V.getUtils()}static get PolyBezier(){return ne}valueOf(){return this.toString()}toString(){return z.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,a=["M",r,i,this.order===2?"Q":"C"];for(let o=1,s=n.length;o<s;o++)a.push(n[o].x),a.push(n[o].y);return a.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=z.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=z.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return z.length(this.derivative.bind(this))}static getABC(n=2,r,i,a,o=.5){const s=z.projectionratio(o,n),u=1-s,f={x:s*r.x+u*a.x,y:s*r.y+u*a.y},l=z.abcratio(o,n);return{A:{x:i.x+(i.x-f.x)/l,y:i.y+(i.y-f.y)/l},B:i,C:f,S:r,E:a}}getABC(n,r){r=r||this.get(n);let i=this.points[0],a=this.points[this.order];return V.getABC(this.order,i,r,a,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,a;r<n;r++)a=r/(n-1),i=this.compute(a),i.t=a,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),a=[];for(let o=0,s,u=0;o<i.length;o++)s=i[o],z.dist(s,n)<r&&(a.push(s),u+=o/i.length);return a.length?t/=a.length:!1}project(n){const r=this.getLUT(),i=r.length-1,a=z.closest(r,n),o=a.mpos,s=(o-1)/i,u=(o+1)/i,f=.1/i;let l=a.mdist,c=s,h=c,d;l+=1;for(let g;c<u+f;c+=f)d=this.compute(c),g=z.dist(n,d),g<l&&(l=g,h=c);return h=h<0?0:h>1?1:h,d=this.compute(h),d.t=h,d.d=l,d}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?z.computeWithRatios(n,this.points,this.ratios,this._3d):z.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let a=1,o,s;a<i;a++)o=n[a],s=n[a-1],r[a]={x:(i-a)/i*o.x+a/i*s.x,y:(i-a)/i*o.y+a/i*s.y};return r[i]=n[i-1],new V(r)}derivative(n){return z.compute(n,this.dpoints[0],this._3d)}dderivative(n){return z.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new V(z.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return z.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return z.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=Yt(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),a=Yt(r.x*r.x+r.y*r.y+r.z*r.z),o=Yt(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=a,r.y/=a,r.z/=a,i.x/=o,i.y/=o,i.z/=o;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=Yt(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;const f=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:n,x:f[0]*r.x+f[1]*r.y+f[2]*r.z,y:f[3]*r.x+f[4]*r.y+f[5]*r.z,z:f[6]*r.x+f[7]*r.y+f[8]*r.z}}hull(n){let r=this.points,i=[],a=[],o=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],this.order===3&&(a[o++]=r[3]);r.length>1;){i=[];for(let s=0,u,f=r.length-1;s<f;s++)u=z.lerp(n,r[s],r[s+1]),a[o++]=u,i.push(u);r=i}return a}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),a={left:this.order===2?new V([i[0],i[3],i[5]]):new V([i[0],i[4],i[7],i[9]]),right:this.order===2?new V([i[5],i[4],i[2]]):new V([i[9],i[8],i[6],i[3]]),span:i};return a.left._t1=z.map(0,0,1,this._t1,this._t2),a.left._t2=z.map(n,0,1,this._t1,this._t2),a.right._t1=z.map(n,0,1,this._t1,this._t2),a.right._t2=z.map(1,0,1,this._t1,this._t2),r?(r=z.map(r,n,1,0,1),a.right.split(r).left):a}extrema(){const n={};let r=[];return this.dims.forEach(function(i){let a=function(s){return s[i]},o=this.dpoints[0].map(a);n[i]=z.droots(o),this.order===3&&(o=this.dpoints[1].map(a),n[i]=n[i].concat(z.droots(o))),n[i]=n[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(n[i].sort(z.numberSort))}.bind(this)),n.values=r.sort(z.numberSort).filter(function(i,a){return r.indexOf(i)===a}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach(function(i){r[i]=z.getminmax(this,i,n[i])}.bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return z.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),a=this.normal(n),o={c:i,n:a,x:i.x+a.x*r,y:i.y+a.y*r};return this._3d&&(o.z=i.z+a.z*r),o}if(this._linear){const i=this.normal(0),a=this.points.map(function(o){const s={x:o.x+n*i.x,y:o.y+n*i.y};return o.z&&i.z&&(s.z=o.z+n*i.z),s});return[new V(a)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const a=z.angle(this.points[0],this.points[3],this.points[1]),o=z.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),Kt(jl(i))<ql/3}reduce(){let n,r=0,i=0,a=.01,o,s=[],u=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),r=f[0],n=1;n<f.length;n++)i=f[n],o=this.split(r,i),o._t1=r,o._t2=i,s.push(o),r=i;return s.forEach(function(l){for(r=0,i=0;i<=1;)for(i=r+a;i<=1+a;i+=a)if(o=l.split(r,i),!o.simple()){if(i-=a,Kt(r-i)<a)return[];o=l.split(r,i),o._t1=z.map(r,0,1,l._t1,l._t2),o._t2=z.map(i,0,1,l._t1,l._t2),u.push(o),r=i;break}r<1&&(o=l.split(r,1),o._t1=z.map(r,0,1,l._t1,l._t2),o._t2=l._t2,u.push(o))}),u}translate(n,r,i){i=typeof i=="number"?i:r;const a=this.order;let o=this.points.map((s,u)=>(1-u/a)*r+u/a*i);return new V(this.points.map((s,u)=>({x:s.x+n.x*o[u],y:s.y+n.y*o[u]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const s=i?i(0):n,u=i?i(1):n,f=[this.offset(0,10),this.offset(1,10)],l=[],c=z.lli4(f[0],f[0].c,f[1],f[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const d=l[h*r]=z.copy(o[h*r]);d.x+=(h?u:s)*f[h].n.x,d.y+=(h?u:s)*f[h].n.y}),i?([0,1].forEach(function(h){if(!(r===2&&h)){var d=o[h+1],g={x:d.x-c.x,y:d.y-c.y},y=i?i((h+1)/r):n;i&&!a&&(y=-y);var m=Yt(g.x*g.x+g.y*g.y);g.x/=m,g.y/=m,l[h+1]={x:d.x+y*g.x,y:d.y+y*g.y}}}),new V(l)):([0,1].forEach(h=>{if(r===2&&h)return;const d=l[h*r],g=this.derivative(h),y={x:d.x+g.x,y:d.y+g.y};l[h+1]=z.lli4(d,y,c,o[h+1])}),new V(l))}outline(n,r,i,a){if(r=r===void 0?n:r,this._linear){const v=this.normal(0),w=this.points[0],b=this.points[this.points.length-1];let M,T,P;i===void 0&&(i=n,a=r),M={x:w.x+v.x*n,y:w.y+v.y*n},P={x:b.x+v.x*i,y:b.y+v.y*i},T={x:(M.x+P.x)/2,y:(M.y+P.y)/2};const R=[M,T,P];M={x:w.x-v.x*r,y:w.y-v.y*r},P={x:b.x-v.x*a,y:b.y-v.y*a},T={x:(M.x+P.x)/2,y:(M.y+P.y)/2};const I=[P,T,M],L=z.makeline(I[2],R[0]),k=z.makeline(R[2],I[0]),E=[L,new V(R),k,new V(I)];return new ne(E)}const o=this.reduce(),s=o.length,u=[];let f=[],l,c=0,h=this.length();const d=typeof i<"u"&&typeof a<"u";function g(v,w,b,M,T){return function(P){const R=M/b,I=(M+T)/b,L=w-v;return z.map(P,0,1,v+R*L,v+I*L)}}o.forEach(function(v){const w=v.length();d?(u.push(v.scale(g(n,i,h,c,w))),f.push(v.scale(g(-r,-a,h,c,w)))):(u.push(v.scale(n)),f.push(v.scale(-r))),c+=w}),f=f.map(function(v){return l=v.points,l[3]?v.points=[l[3],l[2],l[1],l[0]]:v.points=[l[2],l[1],l[0]],v}).reverse();const y=u[0].points[0],m=u[s-1].points[u[s-1].points.length-1],x=f[s-1].points[f[s-1].points.length-1],p=f[0].points[0],C=z.makeline(x,y),A=z.makeline(m,p),_=[C].concat(u).concat([A]).concat(f);return new ne(_)}outlineshapes(n,r,i){r=r||n;const a=this.outline(n,r).curves,o=[];for(let s=1,u=a.length;s<u/2;s++){const f=z.makeshape(a[s],a[u-s],i);f.startcap.virtual=s>1,f.endcap.virtual=s<u/2-1,o.push(f)}return o}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof V&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=xr(n.p1.x,n.p2.x),i=xr(n.p1.y,n.p2.y),a=wr(n.p1.x,n.p2.x),o=wr(n.p1.y,n.p2.y);return z.roots(this.points,n).filter(s=>{var u=this.get(s);return z.between(u.x,r,a)&&z.between(u.y,i,o)})}selfintersects(n){const r=this.reduce(),i=r.length-2,a=[];for(let o=0,s,u,f;o<i;o++)u=r.slice(o,o+1),f=r.slice(o+2),s=this.curveintersects(u,f,n),a.push(...s);return a}curveintersects(n,r,i){const a=[];n.forEach(function(s){r.forEach(function(u){s.overlaps(u)&&a.push({left:s,right:u})})});let o=[];return a.forEach(function(s){const u=z.pairiteration(s.left,s.right,i);u.length>0&&(o=o.concat(u))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,a){const o=(a-i)/4,s=this.get(i+o),u=this.get(a-o),f=z.dist(n,r),l=z.dist(n,s),c=z.dist(n,u);return Kt(l-f)+Kt(c-f)}_iterate(n,r){let i=0,a=1,o;do{o=0,a=1;let s=this.get(i),u,f,l,c,h=!1,d=!1,g,y=a,m=1;do if(d=h,c=l,y=(i+a)/2,u=this.get(y),f=this.get(a),l=z.getccenter(s,u,f),l.interval={start:i,end:a},h=this._error(l,s,i,a)<=n,g=d&&!h,g||(m=a),h){if(a>=1){if(l.interval.end=m=1,c=l,a>1){let p={x:l.x+l.r*Ll(l.e),y:l.y+l.r*Ul(l.e)};l.e+=z.angle({x:l.x,y:l.y},p,this.get(1))}break}a=a+(a-i)/2}else a=y;while(!g&&o++<100);if(o>=100)break;c=c||l,r.push(c),i=m}while(a<1);return r}}function Hl(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,u=[],f=!0,l=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=o.call(r)).done)&&(u.push(i.value),u.length!==n);f=!0);}catch(c){l=!0,a=c}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return u}}function Vl(e,n){if(e==null)return{};var r={},i=Object.keys(e),a,o;for(o=0;o<i.length;o++)a=i[o],!(n.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gl(e,n){if(e==null)return{};var r=Vl(e,n),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Bl(e,n){return Kl(e)||Hl(e,n)||yi(e,n)||Ql()}function Xl(e){return Wl(e)||Yl(e)||yi(e)||Zl()}function Wl(e){if(Array.isArray(e))return fn(e)}function Kl(e){if(Array.isArray(e))return e}function Yl(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yi(e,n){if(e){if(typeof e=="string")return fn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fn(e,n)}}function fn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function Zl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jl(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function tc(e){var n=Jl(e,"string");return typeof n=="symbol"?n:String(n)}var ec=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),o=e.reduce(function(u,f){var l=u,c=f;return a.forEach(function(h,d){var g=h.keyAccessor,y=h.isProp,m;if(y){var x=c,p=x[g],C=Gl(x,[g].map(tc));m=p,c=C}else m=g(c,d);d+1<a.length?(l.hasOwnProperty(m)||(l[m]={}),l=l[m]):r?(l.hasOwnProperty(m)||(l[m]=[]),l[m].push(c)):l[m]=c}),u},{});r instanceof Function&&function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l===a.length?Object.keys(f).forEach(function(c){return f[c]=r(f[c])}):Object.values(f).forEach(function(c){return u(c,l+1)})}(o);var s=o;return i&&(s=[],function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===a.length?s.push({keys:l,vals:f}):Object.entries(f).forEach(function(c){var h=Bl(c,2),d=h[0],g=h[1];return u(g,[].concat(Xl(l),[d]))})}(o),n instanceof Array&&n.length===0&&s.length===1&&(s[0].keys=[])),s};function nc(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const br=Symbol("implicit");function vi(){var e=new Zn,n=[],r=[],i=br;function a(o){let s=e.get(o);if(s===void 0){if(i!==br)return i;e.set(o,s=n.push(o)-1)}return r[s%r.length]}return a.domain=function(o){if(!arguments.length)return n.slice();n=[],e=new Zn;for(const s of o)e.has(s)||e.set(s,n.push(s)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return vi(n,r).unknown(i)},nc.apply(a,arguments),a}function rc(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const ic=rc("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function ac(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var oc=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;ac(oc);function sc(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,o,s,u=[],f=!0,l=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=o.call(r)).done)&&(u.push(i.value),u.length!==n);f=!0);}catch(c){l=!0,a=c}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return u}}function kr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function $t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kr(Object(r),!0).forEach(function(i){le(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function ln(e){return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ln(e)}function le(e,n,r){return n=pc(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function cn(e,n){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},cn(e,n)}function uc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function re(e,n,r){return uc()?re=Reflect.construct.bind():re=function(a,o,s){var u=[null];u.push.apply(u,o);var f=Function.bind.apply(a,u),l=new f;return s&&cn(l,s.prototype),l},re.apply(null,arguments)}function ie(e,n){return lc(e)||sc(e,n)||_i(e,n)||dc()}function rt(e){return fc(e)||cc(e)||_i(e)||hc()}function fc(e){if(Array.isArray(e))return hn(e)}function lc(e){if(Array.isArray(e))return e}function cc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _i(e,n){if(e){if(typeof e=="string")return hn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hn(e,n)}}function hn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function hc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gc(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function pc(e){var n=gc(e,"string");return typeof n=="symbol"?n:String(n)}var yc=vi(ic);function Ar(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=yc(n(i))})}function vc(e,n){var r=e.nodes,i=e.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.nodeFilter,s=o===void 0?function(){return!0}:o,u=a.onLoopError,f=u===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:u,l={};r.forEach(function(g){return l[n(g)]={data:g,out:[],depth:-1,skip:!s(g)}}),i.forEach(function(g){var y=g.source,m=g.target,x=_(y),p=_(m);if(!l.hasOwnProperty(x))throw"Missing source node with id: ".concat(x);if(!l.hasOwnProperty(p))throw"Missing target node with id: ".concat(p);var C=l[x],A=l[p];C.out.push(A);function _(v){return ln(v)==="object"?n(v):v}});var c=[];d(Object.values(l));var h=Object.assign.apply(Object,[{}].concat(rt(Object.entries(l).filter(function(g){var y=ie(g,2),m=y[1];return!m.skip}).map(function(g){var y=ie(g,2),m=y[0],x=y[1];return le({},m,x.depth)}))));return h;function d(g){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=function(){var v=g[p];if(y.indexOf(v)!==-1){var w=[].concat(rt(y.slice(y.indexOf(v))),[v]).map(function(b){return n(b.data)});return c.some(function(b){return b.length===w.length&&b.every(function(M,T){return M===w[T]})})||(c.push(w),f(w)),"continue"}m>v.depth&&(v.depth=m,d(v.out,[].concat(rt(y),[v]),m+(v.skip?0:1)))},p=0,C=g.length;p<C;p++)var A=x()}}var _c=2,W=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Cr=function(n,r){if(!r.isShadow){var i=H(r.linkDirectionalParticles);r.graphData.links.forEach(function(a){var o=Math.round(Math.abs(i(a)));o?a.__photons=rt(Array(o)).map(function(){return{}}):delete a.__photons})}},$e=ai({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Cr(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:W},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:W},nodeColor:{default:"color",triggerUpdate:!1,onChange:W},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:W},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:W},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:W},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:W},linkColor:{default:"color",triggerUpdate:!1,onChange:W},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:W},linkWidth:{default:1,triggerUpdate:!1,onChange:W},linkCurvature:{default:0,triggerUpdate:!1,onChange:W},linkCanvasObject:{triggerUpdate:!1,onChange:W},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:W},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:W},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:W},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:W},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Cr},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),a(),!n.isShadow&&o(),!n.isShadow&&s(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var u=H(n.nodeVisibility),f=H(n.nodeVal),l=H(n.nodeColor),c=H(n.nodeCanvasObjectMode),h=n.ctx,d=n.isShadow/n.globalScale,g=n.graphData.nodes.filter(u);h.save(),g.forEach(function(y){var m=c(y);if(n.nodeCanvasObject&&(m==="before"||m==="replace")&&(n.nodeCanvasObject(y,h,n.globalScale),m==="replace")){h.restore();return}var x=Math.sqrt(Math.max(0,f(y)||1))*n.nodeRelSize+d;h.beginPath(),h.arc(y.x,y.y,x,0,2*Math.PI,!1),h.fillStyle=l(y)||"rgba(31, 120, 180, 0.92)",h.fill(),n.nodeCanvasObject&&m==="after"&&n.nodeCanvasObject(y,n.ctx,n.globalScale)}),h.restore()}function a(){var u=H(n.linkVisibility),f=H(n.linkColor),l=H(n.linkWidth),c=H(n.linkLineDash),h=H(n.linkCurvature),d=H(n.linkCanvasObjectMode),g=n.ctx,y=n.isShadow*2,m=n.graphData.links.filter(u);m.forEach(w);var x=[],p=[],C=m;if(n.linkCanvasObject){var A=[],_=[];m.forEach(function(b){return({before:x,after:p,replace:A}[d(b)]||_).push(b)}),C=[].concat(rt(x),p,_),x=x.concat(A)}g.save(),x.forEach(function(b){return n.linkCanvasObject(b,g,n.globalScale)}),g.restore();var v=ec(C,[f,l,c]);g.save(),Object.entries(v).forEach(function(b){var M=ie(b,2),T=M[0],P=M[1],R=!T||T==="undefined"?"rgba(0,0,0,0.15)":T;Object.entries(P).forEach(function(I){var L=ie(I,2),k=L[0],E=L[1],S=(k||1)/n.globalScale+y;Object.entries(E).forEach(function(O){var $=ie(O,2);$[0];var D=$[1],F=c(D[0]);g.beginPath(),D.forEach(function(U){var q=U.source,X=U.target;if(!(!q||!X||!q.hasOwnProperty("x")||!X.hasOwnProperty("x"))){g.moveTo(q.x,q.y);var B=U.__controlPoints;B?g[B.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,rt(B).concat([X.x,X.y])):g.lineTo(X.x,X.y)}}),g.strokeStyle=R,g.lineWidth=S,g.setLineDash(F||[]),g.stroke()})})}),g.restore(),g.save(),p.forEach(function(b){return n.linkCanvasObject(b,g,n.globalScale)}),g.restore();function w(b){var M=h(b);if(!M){b.__controlPoints=null;return}var T=b.source,P=b.target;if(!(!T||!P||!T.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var R=Math.sqrt(Math.pow(P.x-T.x,2)+Math.pow(P.y-T.y,2));if(R>0){var I=Math.atan2(P.y-T.y,P.x-T.x),L=R*M,k={x:(T.x+P.x)/2+L*Math.cos(I-Math.PI/2),y:(T.y+P.y)/2+L*Math.sin(I-Math.PI/2)};b.__controlPoints=[k.x,k.y]}else{var E=M*70;b.__controlPoints=[P.x,P.y-E,P.x+E,P.y]}}}}function o(){var u=1.6,f=.2,l=H(n.linkDirectionalArrowLength),c=H(n.linkDirectionalArrowRelPos),h=H(n.linkVisibility),d=H(n.linkDirectionalArrowColor||n.linkColor),g=H(n.nodeVal),y=n.ctx;y.save(),n.graphData.links.filter(h).forEach(function(m){var x=l(m);if(!(!x||x<0)){var p=m.source,C=m.target;if(!(!p||!C||!p.hasOwnProperty("x")||!C.hasOwnProperty("x"))){var A=Math.sqrt(Math.max(0,g(p)||1))*n.nodeRelSize,_=Math.sqrt(Math.max(0,g(C)||1))*n.nodeRelSize,v=Math.min(1,Math.max(0,c(m))),w=d(m)||"rgba(0,0,0,0.28)",b=x/u/2,M=m.__controlPoints&&re(V,[p.x,p.y].concat(rt(m.__controlPoints),[C.x,C.y])),T=M?function(S){return M.get(S)}:function(S){return{x:p.x+(C.x-p.x)*S||0,y:p.y+(C.y-p.y)*S||0}},P=M?M.length():Math.sqrt(Math.pow(C.x-p.x,2)+Math.pow(C.y-p.y,2)),R=A+x+(P-A-_-x)*v,I=T(R/P),L=T((R-x)/P),k=T((R-x*(1-f))/P),E=Math.atan2(I.y-L.y,I.x-L.x)-Math.PI/2;y.beginPath(),y.moveTo(I.x,I.y),y.lineTo(L.x+b*Math.cos(E),L.y+b*Math.sin(E)),y.lineTo(k.x,k.y),y.lineTo(L.x-b*Math.cos(E),L.y-b*Math.sin(E)),y.fillStyle=w,y.fill()}}}),y.restore()}function s(){var u=H(n.linkDirectionalParticles),f=H(n.linkDirectionalParticleSpeed),l=H(n.linkDirectionalParticleWidth),c=H(n.linkVisibility),h=H(n.linkDirectionalParticleColor||n.linkColor),d=n.ctx;d.save(),n.graphData.links.filter(c).forEach(function(g){var y=u(g);if(!(!g.hasOwnProperty("__photons")||!g.__photons.length)){var m=g.source,x=g.target;if(!(!m||!x||!m.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var p=f(g),C=g.__photons||[],A=Math.max(0,l(g)/2)/Math.sqrt(n.globalScale),_=h(g)||"rgba(0,0,0,0.28)";d.fillStyle=_;var v=g.__controlPoints?re(V,[m.x,m.y].concat(rt(g.__controlPoints),[x.x,x.y])):null,w=0,b=!1;C.forEach(function(M){var T=!!M.__singleHop;if(M.hasOwnProperty("__progressRatio")||(M.__progressRatio=T?0:w/y),!T&&w++,M.__progressRatio+=p,M.__progressRatio>=1)if(!T)M.__progressRatio=M.__progressRatio%1;else{b=!0;return}var P=M.__progressRatio,R=v?v.get(P):{x:m.x+(x.x-m.x)*P||0,y:m.y+(x.y-m.y)*P||0};d.beginPath(),d.arc(R.x,R.y,A,0,2*Math.PI,!1),d.fill()}),b&&(g.__photons=g.__photons.filter(function(M){return!M.__singleHop||M.__progressRatio<=1}))}}}),d.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Nl().force("link",Cl()).force("charge",Rl()).force("center",Ef()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Ar(n.graphData.nodes,H(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Ar(n.graphData.links,H(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(c){c.source=c[n.linkSource],c.target=c[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var r=n.forceLayout.force("link");r&&r.id(function(c){return c[n.nodeId]}).links(n.graphData.links);var i=n.dagMode&&vc(n.graphData,function(c){return c[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,rt(Object.values(i||[]))),o=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*_c*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(n.dagMode){var s=function(h,d){return function(g){return h?(i[g[n.nodeId]]-a/2)*o*(d?-1:1):void 0}},u=s(["lr","rl"].indexOf(n.dagMode)!==-1,n.dagMode==="rl"),f=s(["td","bu"].indexOf(n.dagMode)!==-1,n.dagMode==="bu");n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(c){c.fx=u(c),c.fy=f(c)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?Il(function(c){var h=i[c[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-h:h)*o}).strength(function(c){return n.dagNodeFilter(c)?1:0}):null);for(var l=0;l<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);l++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function mi(e,n){var r=e instanceof Array?e:[e],i=new n;return{linkProp:function(o){return{default:i[o](),onChange:function(u,f){r.forEach(function(l){return f[l][o](u)})},triggerUpdate:!1}},linkMethod:function(o){return function(s){for(var u=arguments.length,f=new Array(u>1?u-1:0),l=1;l<u;l++)f[l-1]=arguments[l];var c=[];return r.forEach(function(h){var d=s[h],g=d[o].apply(d,f);g!==d&&c.push(g)}),c.length?c[0]:this}}}}var mc=800,xc=4,xi=mi("forceGraph",$e),wc=mi(["forceGraph","shadowGraph"],$e),bc=Object.assign.apply(Object,rt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return le({},e,xi.linkProp(e))})).concat(rt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return le({},e,wc.linkProp(e))})))),kc=Object.assign.apply(Object,rt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return le({},e,xi.linkMethod(e))})));function Ye(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*i,o.height=e.height*i,!n&&!r&&o.getContext("2d").scale(i,i)});var a=ct(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/a,(e.height-r)/2/a),e.needsRedraw=!0}}function wi(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Mr(e,n,r){e.save(),wi(e),e.clearRect(0,0,n,r),e.restore()}var Ac=ai({props:$t({width:{default:window.innerWidth,onChange:function(n,r){return Ye(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Ye(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(a){var o=a.type,s=a.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var f=r.colorTracker.lookup(u.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:o,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,a,o){return n(i,i.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},bc),aliases:{stopAnimation:"pauseAnimation"},methods:$t({graph2ScreenCoords:function(n,r,i){var a=ct(n.canvas);return{x:r*a.k+a.x,y:i*a.k+a.y}},screen2GraphCoords:function(n,r,i){var a=ct(n.canvas);return{x:(r-a.x)/a.k,y:(i-a.y)/a.k}},centerAt:function(n,r,i,a){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return a?new Gt.Tween(s()).to(o,a).easing(Gt.Easing.Quadratic.Out).onUpdate(u).start():u(o),this}return s();function s(){var f=ct(n.canvas);return{x:(n.width/2-f.x)/f.k,y:(n.height/2-f.y)/f.k}}function u(f){var l=f.x,c=f.y;n.zoom.translateTo(n.zoom.__baseElem,l===void 0?s().x:l,c===void 0?s().y:c),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?new Gt.Tween({k:a()}).to({k:r},i).easing(Gt.Easing.Quadratic.Out).onUpdate(function(s){var u=s.k;return o(u)}).start():o(r),this;return a();function a(){return ct(n.canvas).k}function o(s){n.zoom.scaleTo(n.zoom.__baseElem,s),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,o);if(u){var f={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(u.x[1]-u.x[0]),(n.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(f.x,f.y,r),this.zoom(l,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=H(n.nodeVal),a=function(u){return Math.sqrt(Math.max(0,i(u)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:a(s)}});return o.length?{x:[tr(o,function(s){return s.x-s.r}),Jn(o,function(s){return s.x+s.r})],y:[tr(o,function(s){return s.y-s.r}),Jn(o,function(s){return s.y+s.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},kc),stateInit:function(){return{lastSetZoom:1,zoom:iu(),forceGraph:new $e,shadowGraph:new $e().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new zf}},init:function(n,r){var i=this;n.innerHTML="";var a=document.createElement("div");a.classList.add("force-graph-container"),a.style.position="relative",n.appendChild(a),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),a.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),s=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},f=function(){var d=null,g=window.devicePixelRatio,y=u.x>0&&u.y>0?s.getImageData(u.x*g,u.y*g,1,1):null;return y&&(d=r.colorTracker.lookup(y.data)),d};st(r.canvas).call(go().subject(function(){if(!r.enableNodeDrag)return null;var h=f();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var d=h.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},h.active||(d.fx=d.x,d.fy=d.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var d=h.subject,g=d.__initialDragPos,y=h,m=ct(r.canvas).k,x={x:g.x+(y.x-g.x)/m-d.x,y:g.y+(y.y-g.y)/m-d.y};["x","y"].forEach(function(p){return d["f".concat(p)]=d[p]=g[p]+(y[p]-g[p])/m}),r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,d.__dragged=!0,r.onNodeDrag(d,x)}).on("end",function(h){var d=h.subject,g=d.__initialDragPos,y={x:d.x-g.x,y:d.y-g.y};g.fx===void 0&&(d.fx=void 0),g.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,r.onNodeDragEnd(d,y))})),r.zoom(r.zoom.__baseElem=st(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(r.enableZoomInteraction||h.type!=="wheel")&&(r.enablePanInteraction||h.type==="wheel")}).on("zoom",function(h){var d=h.transform;[o,s].forEach(function(g){wi(g),g.translate(d.x,d.y),g.scale(d.k,d.k)}),r.onZoom&&r.onZoom($t($t({},d),i.centerAt())),r.needsRedraw=!0}).on("end",function(h){return r.onZoomEnd&&r.onZoomEnd($t($t({},h.transform),i.centerAt()))}),Ye(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){ct(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=xc/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)});var l=document.createElement("div");l.classList.add("graph-tooltip"),a.appendChild(l),["pointermove","pointerdown"].forEach(function(h){return a.addEventListener(h,function(d){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=d),!r.isPointerDragging&&d.type==="pointermove"&&r.onBackgroundClick&&(d.pressure>0||r.isPointerPressed)&&(d.pointerType!=="touch"||d.movementX===void 0||[d.movementX,d.movementY].some(function(m){return Math.abs(m)>1}))&&(r.isPointerDragging=!0);var g=y(a);u.x=d.pageX-g.left,u.y=d.pageY-g.top,l.style.top="".concat(u.y,"px"),l.style.left="".concat(u.x,"px"),l.style.transform="translate(-".concat(u.x/r.width*100,"%, ").concat(r.height-u.y<100?"calc(-100% - 8px)":"21px",")");function y(m){var x=m.getBoundingClientRect(),p=window.pageXOffset||document.documentElement.scrollLeft,C=window.pageYOffset||document.documentElement.scrollTop;return{top:x.top+C,left:x.left+p}}},{passive:!0})}),a.addEventListener("pointerup",function(h){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var d=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"Click")];g&&g.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,d);if(h.button===2)if(r.hoverObj){var y=r["on".concat(r.hoverObj.type,"RightClick")];y&&y.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,d)})},{passive:!0}),a.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(s);var c=Cu(function(){Mr(s,r.width,r.height),r.shadowGraph.linkWidth(function(d){return H(r.linkWidth)(d)+r.linkHoverPrecision});var h=ct(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},mc);r.flushShadowCanvas=c.flush,(this._animationCycle=function h(){var d=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(v){return v.__photons&&v.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var g=r.isPointerDragging?null:f();if(g!==r.hoverObj){var y=r.hoverObj,m=y?y.type:null,x=g?g.type:null;if(m&&m!==x){var p=r["on".concat(m,"Hover")];p&&p(null,y.d)}if(x){var C=r["on".concat(x,"Hover")];C&&C(g.d,m===x?y.d:null)}var A=g&&H(r["".concat(g.type.toLowerCase(),"Label")])(g.d)||"";l.style.visibility=A?"visible":"hidden",l.innerHTML=A,r.canvas.classList[g&&r["on".concat(x,"Click")]||!g&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=g}d&&c()}if(d){Mr(o,r.width,r.height);var _=ct(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,_),r.forceGraph.globalScale(_).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,_)}Gt.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}});const Cc=new Error("request for lock canceled");var Mc=function(e,n,r,i){function a(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(c){try{l(i.next(c))}catch(h){s(h)}}function f(c){try{l(i.throw(c))}catch(h){s(h)}}function l(c){c.done?o(c.value):a(c.value).then(u,f)}l((i=i.apply(e,n||[])).next())})};class Sc{constructor(n,r=Cc){this._value=n,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise((r,i)=>{this._weightedQueues[n-1]||(this._weightedQueues[n-1]=[]),this._weightedQueues[n-1].push({resolve:r,reject:i}),this._dispatch()})}runExclusive(n,r=1){return Mc(this,void 0,void 0,function*(){const[i,a]=yield this.acquire(r);try{return yield n(i)}finally{a()}})}waitForUnlock(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);return new Promise(r=>{this._weightedWaiters[n-1]||(this._weightedWaiters[n-1]=[]),this._weightedWaiters[n-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(n){this._value=n,this._dispatch()}release(n=1){if(n<=0)throw new Error(`invalid weight ${n}: must be positive`);this._value+=n,this._dispatch()}cancel(){this._weightedQueues.forEach(n=>n.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var n;for(let r=this._value;r>0;r--){const i=(n=this._weightedQueues[r-1])===null||n===void 0?void 0:n.shift();if(!i)continue;const a=this._value,o=r;this._value-=r,r=this._value+1,i.resolve([a,this._newReleaser(o)])}this._drainUnlockWaiters()}_newReleaser(n){let r=!1;return()=>{r||(r=!0,this.release(n))}}_drainUnlockWaiters(){for(let n=this._value;n>0;n--)this._weightedWaiters[n-1]&&(this._weightedWaiters[n-1].forEach(r=>r()),this._weightedWaiters[n-1]=[])}}const Sr=new Sc(0);async function xt(e,n){const r=document.createElement("form"),i=document.createElement("h2");i.textContent=e,r.append(i);let a="";for(const o of n){const s=document.createElement("input");s.type="radio",s.id=o,s.value=o,s.onclick=()=>{a=o,r.remove(),Sr.release()};const u=document.createElement("label");u.textContent=o,u.setAttribute("for",o),r.append(s),r.append(u)}return document.body.append(r),await Sr.acquire(),console.log(a),a}async function zc(e){const n=await Ec(e),r={nodes:e[n.nodeListKey],links:e[n.edgeListKey]},i=document.createElement("div");i.id="graph",document.body.append(i),Ac()(i).graphData(r).nodeId(n.nodeIdKey).nodeLabel(n.nodeLabelKey).nodeAutoColorBy(o=>o[n.nodeColorKey].value).linkAutoColorBy(n.edgeColorKey).linkLabel(n.edgeLabelKey).linkDirectionalParticles(2).linkSource(n.edgeSourceKey).linkTarget(n.edgeTargetKey)}async function Ec(e){const n=await xt("node key",Object.keys(e)),r=await xt("edge key",Object.keys(e)),i=await xt("node id key",Object.keys(e[n][0])),a=await xt("node color key",Object.keys(e[n][0])),o=await xt("node label key",Object.keys(e[n][0])),s=await xt("edge source key",Object.keys(e[r][0])),u=await xt("edge destination key",Object.keys(e[r][0])),f=await xt("edge color key",Object.keys(e[r][0])),l=await xt("edge label key",Object.keys(e[r][0]));return{nodeListKey:n,edgeListKey:r,nodeIdKey:i,nodeColorKey:a,nodeLabelKey:o,edgeSourceKey:s,edgeTargetKey:u,edgeColorKey:f,edgeLabelKey:l}}function Pc(e){try{return JSON.parse(e)}catch{return{}}}function zr(e){let n,r,i,a,o,s,u,f,l,c;return{c(){n=ge("div"),r=ge("h2"),i=Sn("Paste Content"),a=zn(),o=ge("textarea"),s=zn(),u=ge("button"),f=Sn("Process")},l(h){n=pe(h,"DIV",{});var d=ye(n);r=pe(d,"H2",{});var g=ye(r);i=En(g,"Paste Content"),g.forEach(Dt),a=Pn(d),o=pe(d,"TEXTAREA",{}),ye(o).forEach(Dt),s=Pn(d),u=pe(d,"BUTTON",{});var y=ye(u);f=En(y,"Process"),y.forEach(Dt),d.forEach(Dt)},m(h,d){Er(h,n,d),Pt(n,r),Pt(r,i),Pt(n,a),Pt(n,o),Tn(o,e[1]),Pt(n,s),Pt(n,u),Pt(u,f),l||(c=[On(o,"input",e[3]),On(u,"click",e[2])],l=!0)},p(h,d){d&2&&Tn(o,h[1])},d(h){h&&Dt(n),l=!1,Ci(c)}}}function Tc(e){let n,r=!e[0]&&zr(e);return{c(){r&&r.c(),n=Cn()},l(i){r&&r.l(i),n=Cn()},m(i,a){r&&r.m(i,a),Er(i,n,a)},p(i,[a]){i[0]?r&&(r.d(1),r=null):r?r.p(i,a):(r=zr(i),r.c(),r.m(n.parentNode,n))},i:Mn,o:Mn,d(i){r&&r.d(i),i&&Dt(n)}}}function Oc(e,n,r){let i=!1,a="";function o(){r(0,i=!0);const u=Pc(a);zc(u)}function s(){a=this.value,r(1,a)}return[i,a,o,s]}class Rc extends bi{constructor(n){super(),ki(this,n,Oc,Tc,Ai,{})}}export{Rc as default};
